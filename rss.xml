<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[{metaConfig.title} RSS Feed]]></title><description><![CDATA[신나는 코딩 세상]]></description><link>https://class101.dev</link><generator>GatsbyJS</generator><lastBuildDate>Tue, 10 Mar 2020 11:01:16 GMT</lastBuildDate><item><title><![CDATA[Node.js Typescript & GraphQL환경에서 테스트 작성하기]]></title><description><![CDATA[Overview 개발자들은 느낄 겁니다. 몇 달만 지나도 새로운 프레임워크나 언어가 나오고, 개발 방향을 잡아주는 개발 방법론에도 트렌드가 있다는 것을 말이죠. 요즘은 TDD(Test Driven Development…]]></description><link>https://class101.dev/ko/blog/2019/09/09/grep</link><guid isPermaLink="false">https://class101.dev/ko/blog/2019/09/09/grep</guid><pubDate>Mon, 09 Sep 2019 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;Overview&lt;/h2&gt;
&lt;p&gt;개발자들은 느낄 겁니다. 몇 달만 지나도 새로운 프레임워크나 언어가 나오고, 개발 방향을 잡아주는 개발 방법론에도 트렌드가 있다는 것을 말이죠. 요즘은 TDD(Test Driven Development)가 큰 인기를 휩쓸고 있습니다. &lt;/p&gt;
&lt;p&gt;TDD는 간단하게 이야기해서 테스트가 개발을 이끈다고 해서, 테스트 코드를 먼저 짜고 그 다음 메인 코드를 짜는 방식으로 개발을 진행합니다. 테스트를 먼저 짜게 되면서 자연스럽게 예외 상황과 동작 방식을 생각하게 되어 메인 코드를 작성할 때 더 좋은 코드가 나올 수 있습니다. 또한 팀 내 개발자가 코드를 잘못 건드리더라도 테스트를 통과하지 못하기에 빠르게 문제 원인을 찾고 해결할 수 있습니다. 이는 사이드 이펙트를 줄이는데도 큰 도움이 될 것입니다. (전제 조건은 좋은 테스트 코드를 짜는 것입니다.)&lt;/p&gt;
&lt;h2&gt;클래스101이 테스트를 도입하게 된 계기&lt;/h2&gt;
&lt;p&gt;우리는 기술의 ‘안정성’과 ‘기능 개발’ 두 가지를 모두 잡기 위해 고군분투하고 있습니다. 하루에 한 번씩 서버와 웹을 전부 배포하고 있으며, 매일 새로운 기능들과 유지보수 작업이 이뤄지고 있습니다. 그러나 프로덕트 개발팀의 인원이 많아지면서 기능 개발을 하는 만큼 유지보수의 시간도 늘어나게 되었습니다. 결국 생산성 저하를 감지한 개발팀에서는 테스트 환경을 제대로 구축하고 커버리지를 높이기 위한 계획을 세우기로 했습니다.&lt;/p&gt;
&lt;h2&gt;클래스101 서버 환경&lt;/h2&gt;
&lt;p&gt;가장 먼저 사용 언어를 TypeScript로 통일했습니다. 주요 모듈(GraphQL, Mongoose)들에서 타입을 손쉽게 체크할 수 있도록 TypeGraphQL, TypeGoose를 사용하고 있습니다. TypeGraphQL은 Query, Mutation을 Class 형태로 작성하도록 있게 해주며 DI(의존성 주입)도 가능하게 합니다.&lt;/p&gt;
&lt;p&gt;클래스101 GraphQL 서버에서는 비즈니스 로직을 &lt;strong&gt;Resolver Layer&lt;/strong&gt;에서 담당합니다. 하위 레이어인 &lt;strong&gt;Service Layer&lt;/strong&gt;는 Resolver에 필요한 실제 로직을 담으면서 클래스로 명확하게 분리되어 있습니다. 더불어 TypeDI라는 Typescript용 DI 모듈을 이용해서 OOP 아키텍처에서 쉽게 의존성을 주입받을 수 있습니다.&lt;/p&gt;
&lt;h2&gt;클래스101 테스트 환경&lt;/h2&gt;
&lt;p&gt;Javascript에서 테스트를 짤 때 가장 유명한 테스트 프레임워크로는 Jest와 Mocha가 있습니다. 이 중에 개발팀에서 고른 프레임워크는 Jest입니다. Jest는 Snapshot, Mocking, Assertion Library등이 전부 내장되어 있으며 Test를 병렬적으로 돌릴 수 있다는 장점이 있습니다. Typescript 환경이므로 Jest를 돌리기 위한 두 가지 대표적인 방법이 있습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Typescript를 Javascript로 트랜스파일링한 후 돌리기&lt;/li&gt;
&lt;li&gt;Ts-node로 별도의 트랜스파일링 작업 없이 실행한 후 ts-jest를 사용하기&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;테스트 환경을 빠르게 구축하기 위해 두 번째 방법을 택했습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;mongodb-memory-server&lt;/strong&gt;는 MongoDB를 메모리에서 빠르게 실행할 수 있게 해주는 모듈입니다. 또한 Test Suite마다 독립적인 데이터베이스 환경을 제공해서 Test Suite끼리의 의존성을 없앨 수 있습니다. &lt;strong&gt;faker&lt;/strong&gt;라는 fake data를 생성해주는 모듈도 사용했습니다. 이에 Mock Data를 손쉽게 생성할 수 있습니다.&lt;/p&gt;
&lt;h2&gt;Jest 환경 설정하기&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Module 설치하기&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; init -y
&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; -g typescript
&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; jest ts-jest @types/jest mongodb-memory-server faker --dev &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; 설정하기&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@class101/apollo-server&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;private&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ...
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//스크립트에서 바로 jest를 실행할 수 있지만 Programmatic한 환경 설정을 위해 실행 파일을 따로 분리했습니다.&lt;/span&gt;
		&lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ts-node --project ./tsconfig.json -r tsconfig-paths/register tests/index.ts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		...
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;devDependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;@types/jest&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;^24.0.17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;faker&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;^4.1.0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;jest&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;^24.8.0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;ts-jest&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;^24.0.2&quot;&lt;/span&gt;
		...
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;index.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;license&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;MIT&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;tsconfig.json&lt;/code&gt; : Typescript 기본 설정 파일입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;compilerOptions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;strict&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;strictPropertyInitialization&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;noUnusedParameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;forceConsistentCasingInFileNames&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;noFallthroughCasesInSwitch&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;noImplicitReturns&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;module&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;commonjs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		...
    &lt;span class=&quot;token property&quot;&gt;&quot;paths&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//Module Alias 설정으로 import를 할 때 절대경로처럼 사용합니다.&lt;/span&gt;
      ...
      &lt;span class=&quot;token property&quot;&gt;&quot;@tests/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;tests/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;outDir&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./build&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;include&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;**/*.ts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;jest.config.js&lt;/code&gt; : Jest 기본 설정 파일입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  compilerOptions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; paths &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./tsconfig&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; resolve &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; moduleNameMapper &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//jest환경에서도 module Alias를 사용하기 위해 tsConfig의 paths를 가공해서 설정해줍니다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; paths&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; moduleName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;(.*)$&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  moduleNameMapper&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;moduleName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;./src/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;paths&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; paths&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  testEnvironment&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//jest를 node 환경에서 돌리기 위해선 testEnvironment 설정이 필요합니다.&lt;/span&gt;
  roots&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;rootDir&gt;/src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  transform&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;^.+\\.tsx?$&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ts-jest&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  testRegex&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;(/__tests__/.*|(\\.|/)(test|spec))\\.tsx?$&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  moduleFileExtensions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;tsx&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;jsx&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  moduleNameMapper&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  setupFilesAfterEnv&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;rootDir&gt;/src/tests/setup.ts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//테스트가 돌아가기 전에 의존성이나 추가 환경을 구성하기위한 setup file입니다.  &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Root&amp;gt;/tests/index.ts&lt;/code&gt; : Jest 를 Programmatic하게 실행하는 파일입니다. Package.json의 스크립트로 바로 돌리지 않고 이렇게 하는 이유는 Programmatic 설정을 할 수 있기 때문입니다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; jest &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;jest&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;test&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; argv &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;argv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//추가적인 Test 환경 설정을 할 수 있습니다.&lt;/span&gt;

jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;argv&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/tests/setup.ts&lt;/code&gt; : 테스트를 하기 전에 데이터베이스 의존성 설정을 해줍니다. 이때 monogodb-memory-server를 실행하고 Mongoose(mongodb ODM Library)와 연결시킵니다. 추가적으로 테스트에서 전역으로 사용할 수 있도록 Default Mock Data 세팅을 해줍니다. 이때 mongodb-memory-server가 Test Suit마다 독립성을 보장해주므로 테스트 환경에서의 데이터의 일관성을 보장해줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; MongoMemoryServer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mongodb-memory-server&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; mongoose &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mongoose&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;MOCKING_PATH&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@tests/__mocks__&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; mongoMemoryServer&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MongoMemoryServer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;beforeAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clearDB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mongoose&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;collections&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/* tslint:disable:no-empty */&lt;/span&gt;
      collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mongoose&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;readyState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    mongoMemoryServer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MongoMemoryServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    mongoMemoryServer
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getConnectionString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;mongoUri&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MONGO_URI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mongoUri&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; mongoose&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mongoUri&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          useNewUrlParser&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          poolSize&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RUNNING_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createMocksInMongoDB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clearDB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;afterAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; mongoose&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;disconnect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; mongoMemoryServer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//자주쓰이는 기본 Mock Data들을 미리 생성해놓습니다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createMocksInMongoDB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createUserMocks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Unit , Integration Test 예시&lt;/h2&gt;
&lt;h3&gt;Unit Test&lt;/h3&gt;
&lt;p&gt;TypeDI에서 테스트할 Service 클래스를 주입받아 사용했습니다. beforeAll에서 추가 의존성을 넣어주고 afterAll에서 다시 초기화합니다. 아래는 클래스101의 수강권 관련 테스트 로직 예시입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; KlassTicketService &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@graphqlSchema/klassDomain/klassTicket/klassTicket.service&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; KlassTicketModel &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@mongooseModels/KlassTicket/KlassTicket&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Container &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;typedi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/*
  * KlassTicket의 종류 : FreeKlassTicket, PaidKlassTicket, expiredKlassTicket, InValidKlassTicket
  */&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Get KlassTickets&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; klassService &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Container&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;KlassTicketService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userDefaultVariables&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;normalUser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;firestoreId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; KlassTicketMocks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    freeKlassTicket&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    paidKlassTicket&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    expiredKlassTicket&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    inValidKlassTicket&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;beforeAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; freeKlassTicket &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      userId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      _id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; paidKlassTicket &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      userId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      _id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    KlassTicketMocks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      freeKlassTicket&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      paidKlassTicket&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; KlassTicketModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;KlassTicketMocks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;afterAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; KlassTicketModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Get Paid KlassTickets&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Check Get Only PaidKlassTickets&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; klassTickets &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; klassService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getKlassTickets&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; userId &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;klassTickets&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toHaveLength&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;klassTickets&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toHaveProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; KlassTicketMocks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;paidKlassTicket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Integration Test&lt;/h3&gt;
&lt;p&gt;통합 테스트는 실제로 GraphQL 콜을 통해 비즈니스 로직이 잘 동작하는지에 중점을 뒀습니다. 먼저 graphQL 콜을 하는 모듈을 따로 생성했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; authChecker &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@helpers/authChecker&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; GraphQLSchema &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;graphql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; ExecutionResultDataDefault &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;graphql/execution/execute&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; print &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; gqlToString &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;graphql/language&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Maybe &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;graphql/tsutils/Maybe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; buildSchema &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;type-graphql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Container &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;typedi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Options&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  source&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  variables&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Maybe&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  userId&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; schema&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; GraphQLSchema&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; graphqlCall &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ReturnType &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ExecutionResultDataDefault&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; source&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; variables&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; userId &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Options&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;schema&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    schema &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;buildSchema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolvers&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      dateScalarMode&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;isoDate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      container&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; graphql&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ReturnType&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//source의 경우 string 혹은 graphql-tag 타입으로 넣을 수 있습니다.&lt;/span&gt;
    schema&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    source&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; source &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;string&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;gqlToString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;source&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; source&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    variableValues&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; variables&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;우리는 GraphQL서버의 Schema&amp;#x26;Type을 클라이언트 환경에서 사용할 수 있도록 Typescript 형태로 Generating하고 있습니다(CodeGen). 이에 서버의 변경 사항을 클라이언트에서 정적으로 알아차리고 처리할 수 있습니다. Monorepo를 사용하고 있기에 graphqls 라는 Repo에서 이를 관리합니다. 아래는 클래스101 카테고리를 불러오는 간단한 통합 테스트 예시입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;reflect-metadata&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;CATEGORY_SUMMARY_LIST&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@class101/graphqls/category/queries/CategorySummaryList&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Category &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@graphqlSchema/category/category.type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; CategoryModel &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@mongooseModels/Category/Category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphqlCall &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@utils/testUtils/graphqlCall&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;This is a main call Test Example&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;beforeAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CategoryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CategoryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        _id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        firestoreId&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; faker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;internet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;password&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;미술&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        iconUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; faker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;image&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;imageUrl&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        klassCount&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        productCount&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        isHide&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Check CategorySummaryList available&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; graphqlCall&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; categories&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Category &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        source&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;CATEGORY_SUMMARY_LIST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        variables&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          categoryFilter&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            isHide&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;categories&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;not&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;마무리&lt;/h2&gt;
&lt;p&gt;클래스101은 테스트 커버리지를 높이기 위해 노력하고 있습니다. “테스트가 없는 코드는 레거시다”라는 말이 있듯이 짜임새 있게 테스트가 구축되어 있다면 유지보수도 훨씬 쉬워질 것입니다. &lt;/p&gt;
&lt;h2&gt;참고문헌&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;웹사이트&lt;/strong&gt;&lt;br&gt;
&lt;a href=&quot;https://typegraphql.ml/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https://typegraphql.ml&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://www.npmjs.com/package/mongodb-memory-server&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https://www.npmjs.com/package/mongodb-memory-server&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://www.npmjs.com/package/faker&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https://www.npmjs.com/package/faker&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://jestjs.io/docs/en/configuration&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https://jestjs.io/docs/en/configuration&lt;/a&gt;  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Characteristics and Limitations of Google Cloud Platform's Firestore]]></title><description><![CDATA[When ClASS101 started to set up a business, only a few developers were able to provide the service. Thus, by using GCP’s Firestore (Google…]]></description><link>https://class101.dev/en/blog/2019/07/24/donut</link><guid isPermaLink="false">https://class101.dev/en/blog/2019/07/24/donut</guid><pubDate>Wed, 24 Jul 2019 04:35:23 GMT</pubDate><content:encoded>&lt;p&gt;When ClASS101 started to set up a business, only a few developers were able to provide the service. Thus, by using GCP’s Firestore (Google Cloud Platform’s Firestore), we launched the service just in one week without building a proper server. Now, ClASS101 become popular and the time has come to let the old system go. Let us look through the GCP’s Firestore that developers truly loved. &lt;/p&gt;
&lt;p&gt;Firestore is a key-value store, which does not require concerns about expandability problems such as scale-up or scale-down. Obviously, we need to pay on time unless all the Firestore requests that overpassed the free plan limits will be rejected. In Firestore, SDKs are documented at various platforms, react-native is an open-source and react-native-firebase is also well prepared. Therefore, we can say that Firestore is a great tool in the early stage of service with few development resources. However, as the service was expanded, developers started to feel the limits and craved for more service, more essential functions, and database model expansion. &lt;/p&gt;
&lt;p&gt;Limitations of GCP’s Firestore&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Korea region is not available&lt;/li&gt;
&lt;li&gt;Transaction limits&lt;/li&gt;
&lt;li&gt;Slow&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The first limitation of GCP’s Firestore is that there is a no GCP Korea region, while the major users are located in Korea. Thus, this problem had caused a bottleneck of service quality until the company moved the database to another region. As previously mentioned, in the early stage of the service, all the operational systems like web, mobile, and back-office are closely related to Firestore, and it caused big trouble. Furthermore, in GCP, as it was not possible to move the data automatically to another region, the developers could not shift the data location from Korea to other Asia regions either. Naturally, Firestore became a legacy during the process of planning a server construction.&lt;/p&gt;
&lt;p&gt;Secondly, Firestore has a transaction limit. The most fatal aspect is that only one transaction can be done per second in a document. The developers were not far-sighted enough to think of the problem at the beginning. Therefore, now we check constraints in advance especially about the logic that needs some transaction. &lt;/p&gt;
&lt;p&gt;Lastly, Firestore is slow. Commonly we just call it as ‘heavy’. Between several reasons, a typical drawback of the service is that there is no projection function, which makes it possible to get only necessary fields from relevant documents when a query is operated in the client SDK. Thus, the client needed to download all the data if the relevant document is big. As this process has a concern on not only an original document size but also the basic overhead that Firestore SDK has, it seemed much slower than a proper procedure. Besides, unlike a simple query, it is difficult to query a document of a complex model. These constraints had become burdens to clients, and developers had to use inefficient query as the time goes by. Besides, Redux was adopted at the moment, and the mixture of Redux and the inefficient Firestore query structure lead to poor UX. &lt;/p&gt;
&lt;p&gt;Though Firestore has a NoSQL data model as a key-value store, developers were bothered to think whether the normalization promotes better performance. Eventually, CLASS101 constructed a new server while the company started to make an automatic accounting system in their service portfolio. We used stacks such as Node.js, Typescript, Apollo GraphQL, Atlas MongoDB and AWS Elastic Beanstalk, and simultaneously clients also utilized Apollo Client. We deleted all the Redux relevant modules like Redux-form, and actively embraced MobX and Formik. With going through a period of transition, now CLASS101 has become independent from Firestore. &lt;/p&gt;
&lt;p&gt;Finally, we have overcome the limitations of FIresotre though we had undergone many trial and errors while adopting new stack technologies. The development environment, code quality has become much better, and we are doing refactoring by deleting useless codes with utilizing React Hooks. In the next section, I will explain more about a server development and an adoption process of a new technology stack by the clients. &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Google Cloud Platform's Firestore의 특징과 한계]]></title><description><![CDATA[클래스101을 런칭했을 땐 단 몇 명의 개발자가 서비스를 만들어야 했습니다. GCP’s Firestore(Google Cloud Platform’s Firestore…]]></description><link>https://class101.dev/ko/blog/2019/07/24/donut</link><guid isPermaLink="false">https://class101.dev/ko/blog/2019/07/24/donut</guid><pubDate>Wed, 24 Jul 2019 04:35:23 GMT</pubDate><content:encoded>&lt;p&gt;클래스101을 런칭했을 땐 단 몇 명의 개발자가 서비스를 만들어야 했습니다. GCP’s Firestore(Google Cloud Platform’s Firestore)를 활용해 단 일주일 만에 서버를 구축하지도 않고 서비스를 런칭했죠. 이제 클래스101은 많은 이들의 취미를 찾아주는 서비스가 되었습니다. 그리고 여러 체계가 잡히고 서버도 구축하면서 정들었던 GCP’s Firestore를 떠나보낼 때도 되었습니다. 개발자가 사랑했던 GCP’s Firestore, 어떤 특징이 있을까요?&lt;/p&gt;
&lt;p&gt;Firestore는 스케일 업, 스케일 아웃과 같은 확장성은 전혀 걱정하지 않아도 되는 키-밸류 저장소입니다. 물론 비용을 제때 내야 합니다. 비용 지불에 문제가 생기면 바로 무료 플랜 limit을 넘어가는 모든 Firestore 요청이 실패할 테니까요. 각종 플랫폼에 SDK가 문서화되어 있고, react-native는 오픈소스인데다 react-native-firebase도 잘 운영되고 있습니다. 개발 리소스가 적은 서비스 초창기에는 훌륭한 도구인 셈입니다. 하지만 머지 않아 서비스 확장, 데이터베이스 모델 확장, 필요한 기능 증가 등의 이슈가 생기면서 점점 Firestore의 한계를 느끼게 됩니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;한국 리전이 없다.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;트랜잭션 제한이 있다.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;느리다.&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;첫째, GCP 한국 리전이 없다는 것입니다. 반면 주요 사용자는 한국에 있기 때문에 이 문제는 데이터베이스를 다른 리전으로 옮기기 전까지 서비스 성능의 bottleneck으로 자리 잡고 있었습니다. 앞서 말했듯이 클래스101 서비스 초창기엔 웹과 모바일, 백오피스 등 모든 것이 Firestore와 밀접하게 연관되어 있어서 이것을 해결하는 건 굉장히 어렵고 큰 작업이었습니다. 게다가 GCP에서는 다른 리전으로 데이터를 자동으로 옮기는 기능도 없었기 때문에 근처 아시아 국가의 GCP’s Firestore로 옮길 수조차 없었습니다. 서버 구축을 계획하면서 Firestore는 클래스101 서비스에서 없애야 하는 legacy가 되어버렸습니다.&lt;/p&gt;
&lt;p&gt;둘째, Firestore에 트랜잭션 제한(transaction limit)이 있다는 것입니다. 가장 치명적인 건 하나의 document에선 1초에 하나의 트랜잭션만 할 수 있다는 것입니다. Firestore를 도입할 땐 미처 보지 못했죠. 이 때문에 트랜잭션이 필요한 로직에서는 제한사항들을 미리 확인하는 습관이 생겼습니다. &lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;셋째, 느립니다. 흔히 ‘무겁다’라고 표현합니다. 이유는 여러 가지가 있지만 대표적으로 클라이언트 SDK에서 쿼리를 할 때 해당 document의 필요한 필드만 받는 projection 기능이 없다는 것입니다. 그래서 해당 document가 크다면 데이터를 모두 &lt;strong&gt;클라이언트&lt;/strong&gt;가 받을 수밖에 없는데, 단순히 document의 사이즈보단 Firestore SDK가 기본적으로 가지고 있는 오버헤드까지 더해지므로 더 느리게 느껴집니다. 게다가 단순한 구조의 쿼리만 지원이 되고, 조금이라도 복잡해진 모델의 document를 쿼리하는 건 어렵습니다.&lt;sup id=&quot;fnref-2&quot;&gt;&lt;a href=&quot;#fn-2&quot; class=&quot;footnote-ref&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; 여러 제약사항은 고스란히 클라이언트의 부담이 되었고, 시간이 지날수록 비효율적인 쿼리를 하게 되었습니다. 심지어 당시 클라이언트에서는 Redux를 도입했는데, 비효율적인 Firestore 쿼리 구조와 Redux가 합쳐지면서 복잡하고 최적화하기도 힘들어졌습니다. 이것은 나쁜 UX의 원인이 되기도 했죠.&lt;/p&gt;
&lt;p&gt;Firestore는 key-value store로 NoSQL 데이터 모델을 가지지만 위와 같은 문제들 때문에 항상 ‘정규화를 하는 게 과연 더 좋은 성능을 낼 수 있는가’를 고민할 수밖에 없었습니다. 결국 클래스101 서비스 구조에 회계 정산 업무를 자동화할 수 있는 서비스를 만들기 시작하면서 서버도 함께 구축했습니다. Node.js, Typescript, Apollo GraphQL, Atlas MongoDB, AWS Elastic Beanstalk 와 같은 스택을 썼고, 동시에 클라이언트들도 Apollo Client을 활용했습니다. Redux-form와 같은 Redux 관련 모듈도 걷어내고, MobX와 Formik을 적극 도입하면서, 지금은 거의 모든 곳에서 Firestore에 의존하지 않아도 되는 상태가 되었습니다.&lt;/p&gt;
&lt;p&gt;새로운 기술 스택을 도입하면서 시행착오도 많았지만, 결국은 Firestore의 한계들을 극복했습니다. 개발 환경, 코드 퀄리티도 개선되었고, 지금은 React Hooks를 활용해 필요 없는 코드를 제거하며 리팩토링을 하고 있습니다. 다음 글에서는 서버 개발과 클라이언트의 새로운 기술 스택 도입 과정을 자세하게 다루겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;참고문헌&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://firebase.google.com/docs/firestore/quotas#writes_and_transactions&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;Firebase 사용량 및 한도, Firebase&lt;/a&gt; (2019.07.23)&lt;/p&gt;
&lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://firebase.google.com/docs/firestore/query-data/queries?hl=ko&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;Cloud Firestore에서 간단한 쿼리 및 복합 쿼리 실행, Firebase&lt;/a&gt; (2019.07.23)&lt;/p&gt;
&lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Why having a technology blog is important?]]></title><description><![CDATA[A ‘searching’ has become the most important tool as a web and mobile environment have evolved. Without any doubt, every single individuals…]]></description><link>https://class101.dev/en/blog/2019/07/18/john</link><guid isPermaLink="false">https://class101.dev/en/blog/2019/07/18/john</guid><pubDate>Thu, 18 Jul 2019 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;A ‘searching’ has become the most important tool as a web and mobile environment have evolved. Without any doubt, every single individuals and company started to have an interest in search result since they want to reveal their capabilities and specialties. Now people do not need to memorize all the knowledge. Instead, they can search just like selecting books on the bookshelves, and easily get the expertise-level information.&lt;/p&gt;
&lt;p&gt;The companies actively reacted to a consumers’ behavioral change. As the searching has become more important, contents agencies have set the number of hits and comments as a measure of short-term online influence with providing trendy contents or noticeable keywords. Then, are those measures genuinely helpful in enhancing one’s online influence? If that so, absolutely enterprises, which invest the most on ads, will be the winner of the online market.
But that doesn’t mean the searched contents can be ignored. If the consumers cannot acquire satisfying information or knowledge for specific objects such as figures or firms, they will stop putting their trust in the source of the data. In contrast, the consumers feel credible on such things: a blog that provides specific knowledge constantly, a figure who has been exposed to media, and a firm’s website that shows the progress of how it develops its services. About this phenomenon, a copywriter Byunggwang Choi said in his book [21century Shakespeare is born in a web]:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“The power of the internet is more than we may imagine. We just see the internet in the range of our short sight because we did not realize and catch the opportunities yet…Therefore, the internet can be defined as ‘a world expands as we realize’.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since the power of the internet become more powerful as people use it, an evaluation towards one people is changed through the number of contents. It means that in the connected world of online created contents can be the standard of one’s evaluation instead of an individual’s academic backgrounds or careers. Thus, people should verify their capability in the form of contents, and it needs to be disclosed through searching. In the modern world, human beings exist by creating contents online. Furthermore, they can be excluded from most of the social and financial activities unless they are connected to the internet. Already we spend a great part of our lives in cyberspace such as communication, payment, education, and leisure time. This characteristic is identically applied to an enterprise, organization, product, or brand.&lt;/p&gt;
&lt;p&gt;A company should ceaselessly create firm-relevant contents. Though all the public can access to the contents, a value of the information may vary according to their demand because there are various public groups like future customers, potential investors, or job seekers. Then what kinds of contents the firm should create? According to Heunggyu Kim and Juhyeong Park, from ‘the model of public usage of enterprise blog’, they said that&lt;/p&gt;
&lt;p&gt;“Firms started to realize the importance of segmented enterprise blog to gratify consumer’s needs and subdivide the object. Especially, they actively provide contents that can draw the attention of consumers, and naturally increase the firms’ and product brands’ likeability.”&lt;/p&gt;
&lt;p&gt;However, there is a danger that the contents focusing on public attention may be faltered by external circumstances such as fads or trends. In other words, the firm can put more effort into voguish contents, which can easily draw public interest. About this side-effect, Sangchun Park, the professor of Hanyang University, mentioned that “A meaning or value of the original forms can be buried by those contents”&lt;/p&gt;
&lt;p&gt;An identity of contents will lightly be changed by the outside world unless its intention and object are settled. If all the contents follow the fads or trends, also it will diminish a general characteristic of contents ecosystem. Besides, if all the focus is on the exposure of contents, only the firms with large capital will affect. Companies should present themselves not depending on their cost structure. Using creative tools like PC or smartphones, each of them has to find their own identity and buckle down to provide contents to show it. Above all, the contents should be perpetually loved and searched by consumers. &lt;/p&gt;
&lt;p&gt;Readers, the consumers of the content, have a will to achieve some specific goals by searching. By comparing the result of the search, they can find the contents that are more valuable than the others are. If a particular firm’s contents are continuously perceived to be worthy, consumers will recognize not only the contents itself but also the firm as an expert group. The identity of the firm should be established during this process. Undoubtedly, the group’s object, philosophy or achievements need to be combined in the contents, but we need to notice that consumers are the one who completes it. On this point, we can figure out contents should be created focusing on customer’s aspect, not on producer’s eyes. The consumers expect a certain action from the enterprise, and it can be seen as implicit consent between two. Thus, assuming that the firms live up to the contents consumers’ expectation, they may become loyal customers. &lt;/p&gt;
&lt;p&gt;In a nutshell, when a firm sends its message by constantly providing knowledge in a certain area and if it satisfies consumers’ needs, it leads to a creation of market value. As a result, an identity of the enterprise is completed through fulfilling their promises. Therefore, the firm should define, understand, and fulfill intrinsic promises. For instance, in the case of an online hobby class platform, the service needs to promise to provide a fast and convenient online environment, and this procedure should be exposed by the contents. Moreover, expectations from the buyers have to connect to fast and convenient online hobby class. To show those considerations, habitual efforts of organization members need to be known through contents. In this sense, we planned to create Technology Blog, and show how we have evolved the system.   &lt;/p&gt;
&lt;p&gt;Technology blogs aim to introduce how a firm has built its service, and it was mainly operated by IT-field startups. The process of building its service is differentiated components since the procedures are different depends on each enterprise though development tools or languages are almost the same. Because of these reasons, we can conclude that the technology blogs are ‘a digital media operates to show the service firm’s specialty in a certain area through telling about its technological skills and members’ work process.’&lt;/p&gt;
&lt;p&gt;The functions of technology blogs are largely divided into three parts; storing a process of building its service, educating new employees, PR for recruitments. Firstly, since keeping the progress of a firm’s service construction as a form of contents reflects the evolvement of service chronically, it can show the company’s specialty in a certain field and capabilities of developers. Secondly, new employees can search prior development problems or further effective plans in technology blogs. If they meet some service troubles, the staffs will cope with it shortly through the given information. Lastly, technology blogs let job seekers who have an interest in the firm to know about the development team’s tasks and their culture. Visitors to technology blogs evaluate the firm by looking through several contents; it means that the contents itself affect job seekers rather than a payment report or balance sheet.&lt;/p&gt;
&lt;p&gt; However, unlike ad marketing, technology blogs cannot be completed in short-term, and it takes time to get credits from contents consumers since a quantity of contents is inadequate at first step though its UI or accessibility is good enough. Because of the reason above, a company staff should constantly share their knowledge and information based on the experience in a particular field. Hoyeong Lee and Sahyuk Kim defined it as a ‘Reputation capital’, and argued it as an essential asset.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“A reputation capital is a sort of cultural asset, which can be transformed into physical or non-physical benefits as time goes on…. For a firm, an evaluation is ‘an intangible asset’ that helps to create values.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In short, a reputation capital considers ‘how we can deliver helpful knowledge to contents consumers’ rather than ‘how many contents need to be exposed in a searching result’. Peter F.Drucker, the father of modern management, mentioned that knowledge could not produce anything unless it is translated into a particular model.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“In intellectual society, expert knowledge is the most basic factor of production for each individual and all over the economy… Even there is a lot of specialty knowledge; it cannot create anything by itself. The expertise is only productive when it is connected to a particular task.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The created contents should be continuously exposed to the public, and give help to increase productivity and bring some results. Since the expertise is ‘a basic factor of production’, the whole developers need to involve in contents creation task. Therefore, developers have to understand their task completely and share their expertise with not only their colleagues but also unknown public. In this sense, technology blogs give responsibility to developers to provide their idea, knowledge or concepts in online. The first task to be done by developers through uploading contents is individual growth. Moreover, they should improve or innovate existing tasks. Ultimately, the online reputation of a firm will increase when it contributes to other’s productivity growth. &lt;/p&gt;
&lt;p&gt;I mentioned that technology blogs might give help to other’s productivity growth. On the other hand, what will happen if a firm does not upload its contents in the technology blog? The process of service construction is invisible; there is no new knowledge to be searched; it is hard to prepare education materials if new development tools appear. Thus, not uploading contents on the firm’s technology blog means that the will of constructing developers’ knowledge system and spontaneous effort to learn is decreased. Blog visitors do not concern whether the developers are too busy; Contents itself just matter to them. &lt;/p&gt;
&lt;p&gt;Perhaps, operating a technology blog seems to be looking for trouble. However, a direction of evaluation is determined from the moment an online channel of a firm is opened. Evaluation is constructed even the firm is not uploading any contents, though they provide some valuable information periodically. If contents consumers cannot find satisfying contents or check the last content was uploaded a long time ago, they will look for other blogs. Simultaneously, the possibility to visit the blog will be diminished.&lt;/p&gt;
&lt;p&gt;Technology blogs made by some big enterprises or start-ups have become a great mode to show their progress of service development, yet there is no optimal methodology about how to operate or manage the blogs. Also, as the importance of blogs may shrink by a heavy workload, only a few blogs such as Naver Labs, IBM Developer (KR), and Brandy Labs are continuously operated in Korea. Class101dev wants to document the evolvement, which developers have struggled to improve the service by using their expertise. By creating the blog that contains the progress of the firm, we wish people to know that CLASS101 is not only providing hobby classes but also making a platform with a group of excellent technology experts. With building up contents, we will certainly find promising developers who will thrive with CLASS101 professionally and culturally.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Reference&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Books&lt;/strong&gt;&lt;br&gt;
게리 켈러·제이 파파산, 구세희 역, 《원씽》, 비즈니스북스, 2013.&lt;br&gt;
데이비드 미어먼 스코트, 김영배 역, 《온라인에서 팔아라》, 이실MBA, 2008.&lt;br&gt;
리드 호프먼·벤 캐스노차, 차백만 역, 《어떻게 나를 최고로 만드는가》, RHK, 2012.&lt;br&gt;
린다 그래튼, 조성숙 역, 《일의 미래》, 생각연구소, 2012.&lt;br&gt;
마이클 바스카, 최윤영 역, 《큐레이션》, 예문아카이브, 2016.&lt;br&gt;
마크 제프리, 김성아 역, 《마케팅 평가 바이블》. 전략시티, 2015.&lt;br&gt;
스리람 나라얀, 홍유숙 역, 《에자일 조직혁명》, 처음북스, 2017.&lt;br&gt;
앤 핸들리·C.C. 채프먼, 정수진 역, 《콘텐츠 룰》, 제이펍, 2012.&lt;br&gt;
장근우, 《콘텐츠의 정석》, 예문아카이브, 2017.&lt;br&gt;
조연심·김태진, 《300프로젝트》, 카시오페아, 2014.&lt;br&gt;
조 풀리지·로버트 로즈, 박상훈 역, 《킬링마케팅》, 21세기북스, 2018.&lt;br&gt;
찰스 핸디, 강혜정 역, 《포트폴리오 인생》, 에이지21, 2008.&lt;br&gt;
최병광, 《21세기 셰익스피어는 웹에서 탄생한다》, 책이있는풍경, 2010.&lt;br&gt;
피터 드러커, 이재규 역, 《프로페셔널의 조건》, 청림출판, 2001.&lt;br&gt;
피터 드러커, 피터 드러커 소사이어티 역, 《피터 드러커 일의 철학》, 청림출판, 2018.&lt;br&gt;
피터 드러커, 안세민 역, 《새로운 경제 사회의 경영》, 청림출판, 2014.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Dissertation and academic data&lt;/strong&gt;&lt;br&gt;
김지수, 〈1인 미디어, 블로그의 확산과 이슈〉, 《정보통신방송정책》, 16권 22호, 정보통신정책연구원, 2004, pp.31-43.&lt;br&gt;
김택현·임좌상·정철용, 〈정보공유를 위한 기업내 블로그 성공요인에 관한 실증연구〉, 《기업경영연구》, 35권 0호, 한국기업경영학회, 2010, pp.207-224.&lt;br&gt;
김흥규·박주형, 〈기업 블로그 이용에 대한 공중 유형 연구〉, 《한국광고홍보학보》, 제11권 4호, 한국광고홍보학회, 2009, pp.208-239.&lt;br&gt;
백승록, 〈인터넷 상의 소비자 구전활동 동기에 대한 탐색적 연구〉, 《한국광고홍보학보》, 제7권 제1호, 한국광고홍보학회, 2005, pp.108-144.&lt;br&gt;
성주염, 〈브랜드 프로모션 사이트에서 웹 아이덴티티와 브랜드 이미지의 상관관계 연구〉, 《기초조형학연구》, 7권 3호, 한국기초조형학회, 2006, pp.325-333.&lt;br&gt;
이호영·김사혁, 〈온라인 평판시스템의 사회적 영향력〉, 《KISDI 이슈리포트》, 2010권 2호, 정보통신정책연구원, 2010, pp.1-42.&lt;br&gt;
이호영 외, 〈온라인 평판시스템의 순기능 제고 방안〉, 《정책연구》, 2009권 67호, 정보통신정책연구원, 2009, pp.1-161.&lt;br&gt;
정은복, 〈기업 블로그 정보품질이 재방문/구전에 미치는 영향에 관한 연구〉, 《한국광고홍보학보》, 제12권 제4호, 한국광고홍보학회, 2010, pp.43-72.&lt;br&gt;
최환진, 〈대학생의 블로그, 미니홈피 이용 동기와 이용 과정에 대한 연구〉, 《광고학연구》, 제17권 3호, 한국광고학회, 2006, pp.225-248.&lt;br&gt;
한상기, 〈뉴미디어시대 경영: 기업 블로그의 중요성에 대해 다시 생각하자〉, 《월간 경영계》, 402권 0호, 한국경영자총협회, 2012, pp.40-41.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Website&lt;/strong&gt;&lt;br&gt;
〈ᄀᄋᄃ… ᄈᄇᄏᄐ 싹뚝, 축약의 시대〉, 《조선비즈》, 2018.08.24. 참조. (2019.04.20) &lt;a href=&quot;http://news.chosun.com/site/data/html_dir/2018/08/23/2018082301781.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;http:// news.chosun.com/site/data/html_dir/2018/08/23/2018082301781.html&lt;/a&gt;,&lt;/p&gt;</content:encoded></item><item><title><![CDATA[기술 블로그를 왜 운영해야 할까?]]></title><description><![CDATA[…]]></description><link>https://class101.dev/ko/blog/2019/07/18/john</link><guid isPermaLink="false">https://class101.dev/ko/blog/2019/07/18/john</guid><pubDate>Thu, 18 Jul 2019 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;웹과 모바일 환경이 발달하면서 검색은 가장 중요한 도구가 되었습니다. 역량과 전문성을 드러내고 싶어하는 모든 개인과 기업은 당연히 검색 결과에 관심을 가지기 시작했죠. 이제 사람들은 지식을 외우지 않아도 됩니다. 책장에서 책을 꺼내듯 모르는 것이 있으면 검색만 해도 웬만한 전문가보다 더 많은 지식을 얻을 수 있기 때문입니다.&lt;/p&gt;
&lt;p&gt;기업은 사람들의 이러한 행동 변화를 놓치지 않았습니다. 검색이 중요해지다 보니 자연스레 에이전시 형태의 콘텐츠 대행사를 중심으로 콘텐츠 소비자가 주목할 만한 검색어나 키워드, 유행에 따라 콘텐츠를 제작해 단기적으로 조회 수, 댓글 수 등을 온라인 영향력의 기준으로 삼았습니다. 하지만 디지털 시대에 단기적 성과를 달성하기 위한 수치들이 진정으로 개인과 기업의 온라인 영향력 확장에 도움이 되는 걸까요? 만약 노출 수, 조회 수와 같은 수치가 성과의 기준이 된다면 당연히 광고홍보비용을 많이 투자한 기업이 온라인의 승자가 될 게 분명합니다.&lt;/p&gt;
&lt;p&gt;그렇다고 검색 결과 화면을 무시할 수도 없는 노릇입니다. 콘텐츠 소비자가 지식이나 인물, 기업 등 특정 대상을 검색했을 때 만족할 만한 정보를 얻지 못하거나, 결과가 부족하면 더 이상 그 지식이나 인물, 기업을 신뢰하지 않기 때문입니다. 반대로 한 분야의 지식을 꾸준히 제공하는 블로그, 오래 전부터 뉴스 기사나 사진 등에서 검색되는 인물, 서비스를 개선하는 과정이 보이는 기업의 홈페이지로부터는 ‘믿을 만하다’고 느낍니다. 이는 검색에 드러나는 콘텐츠의 합이 곧 신뢰로 연결된다는 의미입니다. 이에 대해 최병광 카피라이터는 그의 저서인 ⟪21세기 셰익스피어는 웹에서 탄생한다⟫에서 이렇게 말했습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;인터넷의 위력은 우리의 상상을 뛰어넘는다. 다만 실감을 하지 못하고 기회를 잡지 못하고 있기에 인터넷을 그저 우리가 아는 범주로만 보고 있는 것일 뿐이다. (중략) 인터넷의 경우엔 ‘하는 만큼 넓어지는 세상’이라고 할 수 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;인터넷의 위력이 ‘하는 만큼 넓어진다’고 합니다. 이 때문에 콘텐츠를 생산하는 만큼 한 사람에 대한 평가는 달라집니다. 이것은 모두가 연결된 온라인에서는 어떤 한 사람의 학력이나 경력보다 그가 만들어 낸 콘텐츠의 합이 그를 평가하는 기준이 될 수 있다는 것을 말합니다. 그러므로 온라인에서는 개인의 능력을 콘텐츠의 형태로 증명할 수 있어야 하고, 동시에 그것은 검색을 통해 드러나야 합니다. 이제 온라인에 콘텐츠를 생산하지 않는 사람은 존재하지 않는 것과 같습니다. 또 온라인으로 연결되어 있지 않으면 대부분의 사회, 결제 활동에서 배제됩니다. 커뮤니케이션, 결제, 학습, 여가생활 등 사람들은 이미 거의 대부분의 일상을 온라인에서 해결하고 있기 때문입니다. 이것은 기업, 기관, 제품, 브랜드에서도 동일하게 적용됩니다.&lt;/p&gt;
&lt;p&gt;기업은 그들과 관련 있는 콘텐츠를 꾸준히 생산해야 합니다. 콘텐츠를 보는 소비자는 불특정 다수이지만 그중에는 미래의 고객, 잠재적인 투자자, 구직을 원하는 인재 등 다양한 집단이 있기 때문에 기업은 이들의 콘텐츠 소비 욕구를 충족할 만한 정보를 전달해야 합니다. 그렇다면 어떤 콘텐츠를 생산해야 할까요? 김흥규·박주형은 &amp;#x3C;기업 블로그 이용에 대한 공중 유형 연구&gt;에서 이렇게 말했습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;기업은 목표 공중을 세분화하고 이들의 니즈를 충족시킬 수 있는 다양한 주제별로 세분화된 기업 블로그를 운영할 필요성을 적극 검토하게 되었으며, 특히 기업 고객 공중들의 흥미를 사로잡을 수 있는 관심 집중적 콘텐츠를 적극 제공하여 기업 및 제품 브랜드의 호감도를 높이고, 관련 정보를 기업 블로그를 통하여 자연스러운 확산을 유도하는 상황이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;하지만 위에서 언급한 ‘관심 집중적 콘텐츠’는 자칫 유행이나 트렌드와 같은 외부 환경에 흔들릴 수도 있다는 위험이 있습니다. 대중이 쉽게 흥미를 느낄 수 있는 유행어나 축약 콘텐츠를 활용하는 것에 더 많은 시간을 할애할 수도 있다는 것이죠. 이에 박상천 한양대학교 문화콘텐츠학과 교수는 조선비즈와의 인터뷰에서 “이런 콘텐츠에 매몰될 경우 원형이 갖는 의미나 가치는 영영 발견하기 어렵다”고 밝히기도 했습니다.&lt;/p&gt;
&lt;p&gt;콘텐츠의 주제와 목표가 설정되어 있지 않으면 콘텐츠의 정체성은 외부 환경에 따라 바뀌게 됩니다. 만약 모든 콘텐츠가 유행, 트렌드만을 쫓는다면 콘텐츠 생태계 전반의 개성을 감소시킬 수도 있습니다. 콘텐츠 노출에만 집중하면 앞서 말했듯이 자본이 많은 기업의 영향력만 커질 것입니다. 기업은 비용에 의존하지 않더라도 그들 스스로를 드러낼 수 있어야 합니다. 어느 기업이든 이미 PC, 스마트폰과 같은 창작 도구를 갖고 있습니다. 기업은 그들의 정체성과 개성을 찾고, 그것을 가장 잘 드러낼 수 있는 콘텐츠를 생산하는 데에 힘을 쏟아야 합니다. 무엇보다 콘텐츠는 독자로부터 오랫동안 사랑받고, 오랫동안 검색되어야 합니다.&lt;/p&gt;
&lt;p&gt;독자인 콘텐츠 소비자는 검색을 통해 각자 특정한 목적을 달성하고자 하는 의지를 갖고 있습니다. 검색 결과의 여러 콘텐츠 중 다른 것과 비교했을 때 그들에게 보다 상대적으로 유용하거나, 중요하다고 여겨지는 것을 가치 있는 콘텐츠로 인식합니다. 가령 특정 기업의 콘텐츠가 콘텐츠 소비자에게 꾸준히 가치 있다고 인식이 될 경우, 소비자는 콘텐츠뿐만 아니라 기업 자체를 해당 분야에서 전문성을 갖춘 그룹이라고 인식합니다. 이 과정에서 기업에 대한 정체성이 완성됩니다. 물론 기업의 콘텐츠에는 기업이 추구하는 방향이나 철학, 기업이 달성한 성과 등도 포함되어 있어야 하지만 콘텐츠를 완성하는 것은 소비자라는 점에 주목해야 합니다. 이를 통해 콘텐츠는 생산자가 아닌 소비자의 관점에 맞춰 제작되어야 한다는 것을 알 수 있습니다. 소비자는 그들을 향한 기업의 행위를 기대하고, 이것은 기업과 소비자의 암묵적 약속이 됩니다. 만약 기업이 그 기대에 부응한다면 콘텐츠 소비자는 기업과 기업이 운영하는 브랜드의 충성 고객으로 전환될 수도 있죠. 결국 기업의 정체성은 소비자와의 약속을 실현하는 것으로 완성됩니다.&lt;/p&gt;
&lt;p&gt;다시 말해 기업이 한 분야에서 콘텐츠를 꾸준히 제작해 그들만의 메시지를 전하고, 그것이 소비자의 마음을 충족시켰을 때 기업의 시장가치 창출로 이어집니다. 결국 기업의 정체성은 소비자와의 약속을 실현하는 것으로 완성됩니다. 그러므로 기업은 소비자와 지키고 싶은 본질적인 약속을 규정하고, 이해하고, 실천해야 합니다. 가령 온라인 취미 클래스 플랫폼은 웹과 모바일에서 빠르고 편리한 환경을 선보이는 것이 최우선 약속이 되어야 하며, 이 과정이 콘텐츠를 통해 드러나야 합니다. 더 나아가 소비자가 이 기업을 떠올렸을 때 절대적으로 기대하는 것 역시 빠르고 편리한 온라인 취미 클래스로 연결되어야 합니다. 이것을 만드는 기업 구성원의 습관적 노력이 콘텐츠에 지속적으로 나타나야 합니다. 그래서 우리는 플랫폼을 만들고 개선하는 과정을 기술 블로그에 담기로 했습니다.&lt;/p&gt;
&lt;p&gt;기술 블로그는 기업의 서비스 구축 과정을 소개하고자 하는 목적으로 IT 분야의 스타트업이 중심이 되어 운영되기 시작했습니다. 개발언어와 도구는 거의 비슷하지만 기업의 서비스를 구축하는 과정은 해당 기업이 가장 잘 말할 수 있기 때문에 경쟁 기업이 가지고 있지 않은 차별화된 요소라 할 수 있습니다. 이 때문에 기술 블로그는 ‘개발 요소를 투입한 서비스를 운영하는 기업이 그들의 기술력과 구성원의 업무 과정을 공개해 해당 분야에서 독자적 전문성을 드러내려는 목적으로 운영하는 디지털 미디어’라고 정의할 수 있습니다.&lt;/p&gt;
&lt;p&gt;기술 블로그는 크게 서비스 구축 과정 보관, 입사 직원 교육, 채용을 위한 PR 등 세 가지의 기능을 갖추고 있습니다. 첫째로 서비스 구축 과정을 콘텐츠로 보관하는 것은 예전부터 서비스를 개발한 순서가 콘텐츠로 검색되기 때문에 해당 기업이 분야에서 전문성을 갖추고 있다는 것을 보여줄 수 있고, 기업 구성원인 개발자의 역량까지도 확인할 수 있습니다. 두 번째로 입사 직원의 교육용으로 사용할 수 있는 기능을 갖추고 있습니다. 상용 서비스에서 발생했던 개발 문제나, 향후 대처방안을 별도의 저장소가 아닌 검색이 되는 기술 블로그에 업로드하면 업무 진행 시에 빠르게 찾아볼 수 있습니다. 만약 서비스에 장애가 발생한다면 짧은 시간 안에 대처할 수도 있죠. 마지막으로 채용을 위한 PR은 해당 기업에 관심이 있는 개발자에게 개발 조직의 업무 내용과 문화를 콘텐츠로 전할 수 있다는 것입니다. 기술 블로그에 방문한 개발자는 콘텐츠 하나가 아닌 여러 개의 콘텐츠를 보면서 믿을 만한 기업인지 판단합니다. 연봉 테이블이나 매출액이 아닌 콘텐츠 자체가 구직을 원하는 개발자에게 영향을 끼치는 것입니다.&lt;/p&gt;
&lt;p&gt;하지만 기술 블로그는 광고 마케팅처럼 짧은 시간 안에 빠르게 완성할 수 있는 것이 아닙니다. 콘텐츠 소비자로부터 신뢰를 얻기까지 상당한 시간이 걸립니다. 기술 블로그의 UI와 접근성이 아무리 뛰어나도 운영 초기에는 콘텐츠의 양이 부족하기 때문입니다. 이 때문에 기업 구성원은 오랜 시간 꾸준히 특정 분야에서 각자의 경험을 바탕으로 한 지식과 정보를 공유해야 합니다. 이호영·김사혁은 이것을 ‘평판자본(reputation capital)‘으로 정의하고 중요한 자산이라고 주장했습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;평판자본은 시간차를 두고 물질적, 비물질적 보상으로 전환가능한 일종의 문화자본이라고 말할 수 있음. (중략) 기업에게 있어서 평판은 가치창출에 도움을 주는 ‘만질 수 없는 중요한 자산’임.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;결국 평판자본은 ‘얼마나 많은 콘텐츠를 검색 결과에 노출시켜야 하는가’보다 ‘콘텐츠 소비자에게 얼마나 유용한 지식을 전달할 것인가’를 고민하는 것입니다. 현대 경영학의 아버지인 피터 드러커(Peter F. Drucker)도 지식이 그 자체로만 있으면 아무 것도 생산할 수 없다고 했습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;지식 사회에서는 전문 지식이 각 개인과 경제 전체에 있어 가장 기본적인 생산 요소가 된다. (중략) 전문적인 지식이 아무리 많더라도 그 자체만으로는 아무 것도 생산할 수 없다. 전문적인 지식은 어떤 과업과 연결되었을 때에만 생산적이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;생산된 콘텐츠는 기업 내부가 아닌 외부에 꾸준히 드러나야 하고, 누군가의 생산성 향상과 결과물 산출에 도움을 주어야 한다는 것입니다. 전문 지식이 ‘가장 기본적인 생산 요소’가 되므로 몇몇이 아닌 개발자 모두가 콘텐츠 생산에 참여해야 합니다. 이 때문에 개발자는 각자 자신의 직무를 완벽히 이해해야 하고, 전문적인 지식을 온라인에 기록해 같은 팀 동료와 온라인의 불특정 다수에게 공유할 수 있어야 합니다. 기술 블로그를 운영하면서 개발자에겐 그들의 아이디어나 지식, 개념을 온라인에 생산할 책임이 주어집니다. 꾸준한 콘텐츠 생산을 통해 각자가 이뤄야할 1차 목표는 개발자 개인의 성장입니다. 더 나아가 현재의 업무를 개선하거나 혁신할 수도 있어야 합니다. 궁극적으로는 다른 누군가의 생산성 향상에도 기여했을 때 기업의 온라인 평판 구축으로도 이어질 수 있을 겁니다.&lt;/p&gt;
&lt;p&gt;기술 블로그의 콘텐츠가 누군가의 생산성 향상에 도움을 줄 수 있다고 했습니다. 그럼 반대로 기술 블로그에 콘텐츠가 업로드되지 않으면 어떻게 될까요? 서비스 구축 과정도 보이지 않고, 새롭게 볼 수 있는 지식도 없습니다. 시간이 지나 새로운 개발 도구가 등장하면 누군가의 교육자료로도 쓰이기 어려울 겁니다. 그러므로 기업의 기술 블로그에 글이 업로드되지 않는 건 개발자의 지식체계 구축과 자발적 학습 노력 의지가 저하된 것이라 할 수 있습니다. 기술 블로그를 찾는 콘텐츠 소비자는 개발자가 서비스 구축 일정이나 업무가 과중하다는 이유로 콘텐츠를 생산하지 않은 것을 배려하지 않습니다. 오직 콘텐츠 생산자 역할을 담당한 개발자가 콘텐츠를 생산했을 때 제 역할을 수행했다고 여기기 때문입니다.&lt;/p&gt;
&lt;p&gt;어쩌면 기술 블로그는 사서 하는 고생일 수도 있습니다. 하지만 어떠한 형태든 기업의 온라인 채널은 만들어진 순간부터 그 평판의 방향이 결정됩니다. 평판은 온라인 채널에 정기적으로 가치 있는 글을 업로드해서 구축할 수도 있지만, 글을 업로드하지 않을 때도 자의 또는 타의에 상관없이 구축됩니다. 만약 콘텐츠 소비자가 어떠한 정보를 얻으려고 기업의 기술 블로그에 방문했을 때 글이 없거나, 글을 업로드한 지 오래된 것을 봤다면 다른 블로그를 찾게 될 것입니다. 동시에 해당 기업의 기술 블로그를 다시 방문할 가능성은 낮아질 것입니다.&lt;/p&gt;
&lt;p&gt;몇몇 대기업과 스타트업을 중심으로 만들어진 기술 블로그는 기업의 서비스 개발 과정을 가장 잘 보여주는 수단이 되었지만 아직까지 그 운영과 관리 방법에 대해선 마땅한 방법론이 없는 상태입니다. 게다가 개발 업무가 과중하면 기술 블로그 운영의 우선순위가 낮아져 국내에는 네이버 랩스, IBM Developer(KR), 브랜디 랩스를 제외하고 꾸준히 운영되고 있는 사례는 드뭅니다. 클래스101 dev는 개발자가 자신들의 전문성을 활용해 서비스를 개선해나가는 모습을 기록하려고 합니다. 기업의 과정이 담긴 블로그를 만들어 클래스101이 단순한 취미 클래스를 제공하는 사이트, 앱이 아닌 기술적으로 우수한 인재들과 함께 만드는 플랫폼이라는 것을 알리고 싶습니다. 콘텐츠를 쌓아가다 보면 분명 역량과 문화적으로 함께 성장할 개발자를 찾을 수도 있을 겁니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;참고문헌&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;단행본&lt;/strong&gt;&lt;br&gt;
게리 켈러·제이 파파산, 구세희 역, 《원씽》, 비즈니스북스, 2013.&lt;br&gt;
데이비드 미어먼 스코트, 김영배 역, 《온라인에서 팔아라》, 이실MBA, 2008.&lt;br&gt;
리드 호프먼·벤 캐스노차, 차백만 역, 《어떻게 나를 최고로 만드는가》, RHK, 2012.&lt;br&gt;
린다 그래튼, 조성숙 역, 《일의 미래》, 생각연구소, 2012.&lt;br&gt;
마이클 바스카, 최윤영 역, 《큐레이션》, 예문아카이브, 2016.&lt;br&gt;
마크 제프리, 김성아 역, 《마케팅 평가 바이블》. 전략시티, 2015.&lt;br&gt;
스리람 나라얀, 홍유숙 역, 《에자일 조직혁명》, 처음북스, 2017.&lt;br&gt;
앤 핸들리·C.C. 채프먼, 정수진 역, 《콘텐츠 룰》, 제이펍, 2012.&lt;br&gt;
장근우, 《콘텐츠의 정석》, 예문아카이브, 2017.&lt;br&gt;
조연심·김태진, 《300프로젝트》, 카시오페아, 2014.&lt;br&gt;
조 풀리지·로버트 로즈, 박상훈 역, 《킬링마케팅》, 21세기북스, 2018.&lt;br&gt;
찰스 핸디, 강혜정 역, 《포트폴리오 인생》, 에이지21, 2008.&lt;br&gt;
최병광, 《21세기 셰익스피어는 웹에서 탄생한다》, 책이있는풍경, 2010.&lt;br&gt;
피터 드러커, 이재규 역, 《프로페셔널의 조건》, 청림출판, 2001.&lt;br&gt;
피터 드러커, 피터 드러커 소사이어티 역, 《피터 드러커 일의 철학》, 청림출판, 2018.&lt;br&gt;
피터 드러커, 안세민 역, 《새로운 경제 사회의 경영》, 청림출판, 2014.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;논문 및 학술자료&lt;/strong&gt;&lt;br&gt;
김지수, 〈1인 미디어, 블로그의 확산과 이슈〉, 《정보통신방송정책》, 16권 22호, 정보통신정책연구원, 2004, pp.31-43.&lt;br&gt;
김택현·임좌상·정철용, 〈정보공유를 위한 기업내 블로그 성공요인에 관한 실증연구〉, 《기업경영연구》, 35권 0호, 한국기업경영학회, 2010, pp.207-224.&lt;br&gt;
김흥규·박주형, 〈기업 블로그 이용에 대한 공중 유형 연구〉, 《한국광고홍보학보》, 제11권 4호, 한국광고홍보학회, 2009, pp.208-239.&lt;br&gt;
백승록, 〈인터넷 상의 소비자 구전활동 동기에 대한 탐색적 연구〉, 《한국광고홍보학보》, 제7권 제1호, 한국광고홍보학회, 2005, pp.108-144.&lt;br&gt;
성주염, 〈브랜드 프로모션 사이트에서 웹 아이덴티티와 브랜드 이미지의 상관관계 연구〉, 《기초조형학연구》, 7권 3호, 한국기초조형학회, 2006, pp.325-333.&lt;br&gt;
이호영·김사혁, 〈온라인 평판시스템의 사회적 영향력〉, 《KISDI 이슈리포트》, 2010권 2호, 정보통신정책연구원, 2010, pp.1-42.&lt;br&gt;
이호영 외, 〈온라인 평판시스템의 순기능 제고 방안〉, 《정책연구》, 2009권 67호, 정보통신정책연구원, 2009, pp.1-161.&lt;br&gt;
정은복, 〈기업 블로그 정보품질이 재방문/구전에 미치는 영향에 관한 연구〉, 《한국광고홍보학보》, 제12권 제4호, 한국광고홍보학회, 2010, pp.43-72.&lt;br&gt;
최환진, 〈대학생의 블로그, 미니홈피 이용 동기와 이용 과정에 대한 연구〉, 《광고학연구》, 제17권 3호, 한국광고학회, 2006, pp.225-248.&lt;br&gt;
한상기, 〈뉴미디어시대 경영: 기업 블로그의 중요성에 대해 다시 생각하자〉, 《월간 경영계》, 402권 0호, 한국경영자총협회, 2012, pp.40-41.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;웹사이트&lt;/strong&gt;&lt;br&gt;
〈ᄀᄋᄃ… ᄈᄇᄏᄐ 싹뚝, 축약의 시대〉, 《조선비즈》, 2018.08.24. 참조. (2019.04.20) &lt;a href=&quot;http://news.chosun.com/site/data/html_dir/2018/08/23/2018082301781.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;http:// news.chosun.com/site/data/html_dir/2018/08/23/2018082301781.html&lt;/a&gt;,&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Class similarity analysis and construction of Recommendation server using TF-IDF [Part 1]]]></title><description><![CDATA[Overview Hello! I am Esmond who is responsible for operating recommendation server in CLASS101. Recently, we analyzed a similarity between…]]></description><link>https://class101.dev/en/blog/2019/07/16/esmond</link><guid isPermaLink="false">https://class101.dev/en/blog/2019/07/16/esmond</guid><pubDate>Tue, 16 Jul 2019 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;Overview&lt;/h2&gt;
&lt;p&gt;Hello! I am Esmond who is responsible for operating recommendation server in CLASS101. Recently, we analyzed a similarity between classes using TF-IDF (Term Frequency – Inverse Document Frequency) and uploaded it as a form of API. Over two contents, I will write about the process of development and further plans.&lt;/p&gt;
&lt;h2&gt;Background and Object of Development&lt;/h2&gt;
&lt;p&gt;How can we classify hundreds of classes in CLASS101 application? Regarding this problem, largely we have two standards.&lt;/p&gt;
&lt;p&gt;First, classify the classes by its category, which was given when the content was first made.
Second, classify the class by its collection, which is categorized by its title after opening is decided.&lt;/p&gt;
&lt;p&gt;Lately, as CLASS101 is experiencing rapid growth, it seems inadequate to provide a simple recommendation such as category or collection. Since we need logic for a specific recommendation system, the development team decided to analyze an index, which is called ‘a similarity between classes’, and utilize the result. Our team aimed to realize three functions through this project.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Store N unit of classes that show high similarity with all the classes&lt;/li&gt;
&lt;li&gt;Whenever a new class is added, automatically update the data&lt;/li&gt;
&lt;li&gt;Open the service as API to easily asses at the application layer&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Assessing a measure of similarity for object quantifying&lt;/h2&gt;
&lt;p&gt;To assess the similarity between classes, we should know about various ways to measure the similarity scale. In this section, three measurements will be introduced: Euclidean Distance, Manhattan Distance, Cosine Similarity.&lt;/p&gt;
&lt;h3&gt;Euclidean Distance&lt;/h3&gt;
&lt;p&gt;This is the most famous and simple way by measuring the distance between two vectors. In two dimension, it is so-called as ‘Pythagorean theorem’. Regarding two points p=(p1,p2,…,pn),q=(q1,q2,…,qn), the distance between two is calculated as below.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49747e27a04f569280364649225b30cf/48711/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 459px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 8.714596949891067%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAUUlEQVQI103NSQqAQBBD0YgLpRXBoaWdQAXp+9/QL2Th4lFQJFWSNKBFgQsJB1bcGD0DSjzImJ3LznzdE9rQoPciONxhQYUd9a84+Xj0Y7kTXxlpA1zY5MEDAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Untitled d230bf87 2140 4196 8e40 871c0ac265de&quot;
        title=&quot;&quot;
        src=&quot;/static/49747e27a04f569280364649225b30cf/48711/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png&quot;
        srcset=&quot;/static/49747e27a04f569280364649225b30cf/12f09/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 148w,
/static/49747e27a04f569280364649225b30cf/e4a3f/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 295w,
/static/49747e27a04f569280364649225b30cf/48711/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 459w&quot;
        sizes=&quot;(max-width: 459px) 100vw, 459px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Manhattan Distance&lt;/h3&gt;
&lt;p&gt;This measurement is called ‘Taxicab geometry’; it calculates the distance between one point to another in each coordinate divided into a square.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8d9d444544155b7d57bdb9b8e829d3da/772e8/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 200px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAE3klEQVQ4yzVVXWxTZRg+XBGuvNCoV0O5cVdgAndEZkATlEQk6qJCiIhMhMRkILiA2U9/oFtL27VdwbXrfmhX99P1+07Pb0972vXnrCtu6/gzbG4leoEihmziiCSjvu9p1+TN97Y9ffI97/M8bxkGXpFE4r3g/Hy93ieTTXi6nj17YVxVD2M/ks/vHs1m38Z+PJVqDNwvv4q9kBW/wXP6cfp1NT15kNkAi/f3P8lZLNOaweBTPZ7neZMpnO3slFJu97+FtjZP2uFYTDud5UJrqyvlcq1kurpSBZNhKGwaqniPTwRaDhjUr44efcpL0idMsFSqz1osBdXt7gXgI0I4vKz4/aflgQED9DeTXu9HYjBIxFBIUHt6DvKh8M/y4KCVOAMnHAa5PGpTj31tOxzpsDTOcZHSm/otNaOxFwCOYE85btaxvr4Z6G4nPB/Hz4ggtEJZsOfkGEnNkgbsu7u1eWaNqeuZ++7UXc09sEG5CWiuw22WCMfNsJSuQd2Euge1ClWEekAI+6fAk+neXmXFZs0s2izaTPO1vmc+0b+o0MgvCcG1HiHKWR00bzaH4kDTXqlshh/fopRuhdoLlcbvWZZ2xWLUjb3ZnBeNF0qHXoztfOtazLdU+bGyRRKuHs3FL08wG2qCACLODGkC4AKCsSz7BaVsEcC2wdkXDImhTnOhztReTJ6K/mA3Fc58KlFxIUzEXXG+/3xGtqr+n35/mRlPJg+jmigAzgxpAuAkgkH9zXFEGBqSykbDVNneqXHfXu1b8cZ652UqKYQlTwjlEwIXnlMl91okmjip33Kqrc2Naur0KL1Ro7kNwbD3uFPfd9umjNj7E550KTqzvfZMCc+05NyrKcaADjaSy+0Gjy2CLQgo2QaAf8CDVqSJNwOwliudWqI54F1wJWxOYUK+AzcbhpFcguceEioYRC44AqDLYxOT7zKYAABcBkAerUEJ+xAFCIaEoMmolV02zdDc711w095plSYuANgSS9kxyrJ2liWPKOWsEnc9mpa6fxuLpt/XbwkJcKreng/1OPGkiGfX5ak6e5cW04VL2BwAdrFKkx2BGe/Q/UkFnXKcDzRoisGng4GyjSDKCj8cngHTUp9PWbl0KS+bO4oqCuBXeiZrNJcBbAxo4kgKlMb4hHhtFewSyyumaVX0rEaiyS8ZCPorGatVlYcGrek50nDFlvnVdLF0CK2BaqIAABaqgrE7AGwKwFpELrQfrHI/I9v2yfxAe4yN5gjltlYpmw0DpLv/BPYgwOxLsV170GdgjXiNphnKXlOWA6vsf3Bj9xaY252dZyqbJojcCCKOMrUVdHIYtoa9Qy47HVoJ44QJANPeI5T8AwBzqCbUX+CAWTjBp2yZi43fViXPU3h/Cz7HcVRgtud00J7jUf8IbA0MOmaz4qtswQQABaU2/A4oa7Xn2PFocl/lEbMJrHJbXyiUPQTAYR2s+Dj92vkDhmQTrCDYGqcx6JhNjBMmAE2LPoOZRSdl+x6BGy6ATdqz8a5GmF8ZwcBClupsaT2TSmc+wOWI++yu5hlMCO7nubglitkESmugYABmtYw+gzT4UpJ7dVK+kod+VBECFbhxGMGg/gPAz6tzlKWPN5bjBFHO6BGDoEM29b8DSMA7G6YFaxy7Pnpra/VZ+VyN8htwy8+w/x+0tIcUAntFYAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Untitled 6d28fa68 102f 48d2 81df d940175de695&quot;
        title=&quot;&quot;
        src=&quot;/static/8d9d444544155b7d57bdb9b8e829d3da/772e8/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png&quot;
        srcset=&quot;/static/8d9d444544155b7d57bdb9b8e829d3da/12f09/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png 148w,
/static/8d9d444544155b7d57bdb9b8e829d3da/772e8/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Regarding two points, p=(p1,p2,…,pn),q=(q1,q2,…,qn), the distance between two is calculated as below.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1b3fc841c5ac5cdfeea1646993690292/908b1/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 280px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 19.642857142857142%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAZ0lEQVQY053PywqAIBCF4RZdaZGQRlDUIuhGm6L3f7Z+42xdlPAxKDNHjaLvK0aPPNQwYUSrmqHGigQGM0qk6HBqP+jMhztYH3hgU/CihgaXXuObblQKMZqxqj6s0KXux4/f0D00/ACRWwRBcvwksQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Untitled 57fb3268 3025 4198 95d2 bc75e2bf275c&quot;
        title=&quot;&quot;
        src=&quot;/static/1b3fc841c5ac5cdfeea1646993690292/908b1/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png&quot;
        srcset=&quot;/static/1b3fc841c5ac5cdfeea1646993690292/12f09/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png 148w,
/static/1b3fc841c5ac5cdfeea1646993690292/908b1/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png 280w&quot;
        sizes=&quot;(max-width: 280px) 100vw, 280px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Cosine Similarity&lt;/h3&gt;
&lt;p&gt;The purpose of this measurement is to calculate the similarity of vector direction instead of its size between two vectors in dot product space. A similarity increases as a direction between two vectors are similar. If two vectors have an entirely different direction (180’ angle), it will get cosine value of -1. Otherwise, if two vectors are in the same line (0’ angle), it will get a cosine value of 1.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a58e7dd6118987ed6ebe119ded9f2e73/3d026/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 429px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 27.272727272727277%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAsElEQVQY051QyQqFMBDr/3+aRw9KD+JW3MBdwT2SgfH2Li8QOknbkNbc943runCeJzgTz/PgOI5Pt22LoiiwLAsUPJ+mqexVVfX5xlqLMAyFvDTPM+I4Bv2u64S+78PzPARBgG3bvjPUfd9LIHXTNDBsQbKVzkpimiZkWYYoipAkiXh8EdsxQBvmeY66rmHwB8qylHAGcHXOiTcMAwyb/aL+p1Jbj+OIdV1l3vddtOIFFZSAJYwXWM0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Untitled 477f1d55 4962 4ce0 a5b4 2ec9751bc69c&quot;
        title=&quot;&quot;
        src=&quot;/static/a58e7dd6118987ed6ebe119ded9f2e73/3d026/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png&quot;
        srcset=&quot;/static/a58e7dd6118987ed6ebe119ded9f2e73/12f09/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 148w,
/static/a58e7dd6118987ed6ebe119ded9f2e73/e4a3f/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 295w,
/static/a58e7dd6118987ed6ebe119ded9f2e73/3d026/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 429w&quot;
        sizes=&quot;(max-width: 429px) 100vw, 429px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;The similarity is calculated as below.&lt;/p&gt;
&lt;p&gt;To apply those similarity measurements in the real field, it was required to have a process of quantifying the objects. TF-IDF, the vector space model, was utilized on this step. TF-IDF is a statistical value that shows the importance of a word appeared in a certain document. A word becomes crucial as its TF-IDF value goes up. The value is calculated by multiplying TF (a word frequency) and IDF (a reciprocal of document frequency). Briefly, it is measuring the similarity between classes through calculating the value after the vectorization of classes using TF-IDF values. &lt;a href=&quot;#footnote-1&quot;&gt;[1]&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Development Process&lt;/h2&gt;
&lt;p&gt;The object named ‘class’ has several attributes such as a class title, class description, open due date, and creator. Firstly, we tried to measure the similarity using its title and description value, though it is best to reflect the entire attributes. We used the vectorization by TF-IDF and scikit-learn for utilizing relevant functions.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;pip install scikit&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;learn&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.21&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;About the sample sentence, let us do vectorization using TF-IDF, and measure the similarity.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; sklearn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;feature_extraction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TfidfVectorizer


doc_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;프리시즌 아시아 투어를 떠나는 토트넘은 싱가포르, 중국을 차례로 방문해 ICC 경기를 치른다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;영국 &quot;풋볼 런던&quot;은 11일 &quot;토트넘이 ICC 첫 경기에서 가장 강력한 스쿼드로 유벤투스에 맞설 것&quot;이라고 평가했다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;토트넘에 합류하는 손흥민은 유벤투스전 출전을 목표로 구슬땀을 흘릴 예정이다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

tfidf_vectorizer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TfidfVectorizer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;min_df&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tfidf_vectorizer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fit_transform&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
doc_similarities &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; tfidf_matrix&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_similarities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toarray&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[[1.         0.04612956 0.        ]
    [0.04612956 1.         0.        ]
    [0.         0.         1.        ]]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;1 means the similarity with its own. We can find that the similarity is not that high except the case, which the form of the sentence is almost similar. Then we will upgrade the similarity by extracting a certain word class (a noun) using a package like konlpy.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;pip install konlpy&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.1&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; konlpy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tag &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Okt


okt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Okt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

doc_nouns_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;okt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nouns&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; doc &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; doc_list&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_nouns_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

tfidf_vectorizer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TfidfVectorizer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;min_df&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tfidf_vectorizer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fit_transform&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_nouns_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
doc_nouns_similarities &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; tfidf_matrix&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_nouns_similarities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toarray&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
    &amp;#39;프리 시즌 아시아 투어 토트넘 싱가포르 중국 차례 방문 경기&amp;#39;,
    &amp;#39;영국 풋볼 런던 은 토트넘 첫 경기 가장 스 쿼드로 유벤투스 것 평가&amp;#39;,
    &amp;#39;토트넘 합류 손흥민 유벤투스 전 출전 목표 구슬 땀 예정&amp;#39;
]

[[1.         0.11327504 0.04435806]
    [0.11327504 1.         0.12859167]
    [0.04435806 0.12859167 1.        ]]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;According to the result, the similarity is measured more delicately than before.
On this step, we will calculate the similarity between real class data. By selecting 10 classes in every 10 categories, a total of 100 sample classes are collected. After measuring the similarity between each class, we will look out for the category accordance ratio using the top 10 similar classes. From now on, we mention the class as ‘product’.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;category_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CATEGORY_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;일러스트레이터 집시의 매력적인 얼굴 그리기&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;어떻게 그려도 예쁘고 멋진 비율과 비례, 매력과 생명력을 좌우하는 눈 코 입의...&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;TODO-LIST&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Make a new product dictionary by extracting nouns from ‘title’ and ‘description’.&lt;/li&gt;
&lt;li&gt;Regarding ‘title’ and ‘description’, store the top 10 product id and similarity value after vectorizing each attribute by TfidVectorizer and calculating the similarity.&lt;/li&gt;
&lt;li&gt;Measure a similarity ratio between target class and category.&lt;/li&gt;
&lt;li&gt;Using 100 sample data, measure a mean value of similarity ratio between target class and category.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Make a new product dictionary by extracting nouns from ‘title’ and ‘description’.&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; konlpy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tag &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Okt
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; tqdm &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; tqdm_notebook


okt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Okt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_product_noun_list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_list&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;category_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;title_noun&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;okt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nouns&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;description_noun&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;okt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nouns&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; tqdm_notebook&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;


product_noun_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/39a59ba9c903f143f64f44cb02f7da83/302a4/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 7.4074074074074066%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAMklEQVQI12O49fb2/wsvLv6/9PLS/4sE8JvPb/7//PHz/7dv3+D4+/fv/3/8+AGmQXwAcElJ9KIagQMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Screen Shot 2019 07 12 at 7 751cae5a ea27 494e b280 8c20842038b0 56 48 PM&quot;
        title=&quot;&quot;
        src=&quot;/static/39a59ba9c903f143f64f44cb02f7da83/fcda8/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png&quot;
        srcset=&quot;/static/39a59ba9c903f143f64f44cb02f7da83/12f09/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 148w,
/static/39a59ba9c903f143f64f44cb02f7da83/e4a3f/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 295w,
/static/39a59ba9c903f143f64f44cb02f7da83/fcda8/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 590w,
/static/39a59ba9c903f143f64f44cb02f7da83/efc66/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 885w,
/static/39a59ba9c903f143f64f44cb02f7da83/302a4/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 1080w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;We look for the iteration by tdqm during the code is implemented in jupyter notebook environment. About 13.46 iterations per sec were recorded, and 7 seconds were spent for 100 data. Probably, it seems to take some time by implementing Java through Jpype since the core of konlpy is composed of Java.&lt;/p&gt;
&lt;h3&gt;Regarding ‘title’ and ‘description’, store the top 10 product id and similarity value after vectorizing each attribute by TfidVectorizer and calculating the similarity.&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;tfidf_vectorizer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TfidfVectorizer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;min_df&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_similar_products&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_noun_list&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; field&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; top_n&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    output &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tfidf_vectorizer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fit_transform&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;field&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    doc_similarities &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; tfidf_matrix&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; idx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; similarities &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_similarities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toarray&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        top_similar_product_indices &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; similarities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;argsort&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;top_n&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;idx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;top_similar_products&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;similar_idx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;similarity&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;similarities&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;similar_idx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; similar_idx &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; top_similar_product_indices&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; output

title_similar_products &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_similar_products&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;title_noun&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
description_similar_products &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_similar_products_new&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;title_noun&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_similar_products&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;#39;product_id&amp;#39;: &amp;#39;xxxxx&amp;#39;,
    &amp;#39;top_similar_products&amp;#39;: [
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.280641},
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.182949},
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.180826},
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.156225},
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.137592}
    ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The entire product id is marked as xxxx.&lt;/p&gt;
&lt;h3&gt;Measure a similarity ratio between target class and category.&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;CATEGORY_DICT &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    CATEGORY_DICT&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_ratio_list_of_same_category&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;similar_products&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    ratio_list_of_same_category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; target_product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; similar_products&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        category_of_target_product &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; CATEGORY_DICT&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;target_product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        category_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;CATEGORY_DICT&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; target_product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;top_similar_products&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

        same_category_ratio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; category_list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;category_of_target_product&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;category_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; target_product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;same_category_ratio&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; same_category_ratio
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ratio_list_of_same_category

title_ratio_list_of_same_category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_similar_products&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
desc_ratio_list_of_same_category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;description_similar_products&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.3},
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.2},
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.4},
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.6},
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.4},
    ...
]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Using 100 sample data, measure a mean value of similarity ratio between target class and category.&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_avaerage_of_ratio&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ratio_list_of_same_category&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    ratio_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;same_category_ratio&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; dc &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ratio_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ratio_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

title_avaerage_of_ratio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_avaerage_of_ratio&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
desc_avaerage_of_ratio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_avaerage_of_ratio&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;desc_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&quot;title 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_avaerage_of_ratio&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&quot;description 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;desc_avaerage_of_ratio&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;The mean value of accordance ratio between a target class and category using its ‘title’: 0.224
The mean value of accordance ratio between a target class and category using its ‘description’: 0.425&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;In this content, we did several analysis from class clustering based on the existing category to similarity test based on class title and description. On next section, I will introduce a way to store the similar classes on DB and distribution process of recommendation server that constantly provides API, which does not need to restart the server as a new class is updated.&lt;/p&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;p&gt;(a) Konply’s Okt (Twitter in the past) can use the token normalization function at pos tagging, unlike other classes.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4401cc05f124256703bc0d878e08d016/c7dcc/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 30.42121684867395%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABIElEQVQY04VRSU7EQAzM5+EXfABx5QQ3lBtX9kFkX3rNMpOeLJOiOtJwmAuWLHfbZbuqO0jSFFGcQCqNPL9GUT5CqQOkFKiFZF5CyBZV3WFZFpxOpz/393PubIFzDmmWI05SJOknsizCTxQhLwrEccx7zdoTMfeoKsWlBRJiq6rezr7Xu3NHzPOMwE/N8hxfu28y0WjbAdZOMLZhNOh7QOtnCHEH2+yZs8RJRtabBsZYKtKbmp7gwNNt224DOjdhXQ3jA2WMlANMU4hx3MGrGscj/rNgXVduVKSdcVtHKW8IwyvmSkov8P5xg5fXWypIyURy6Ajf44n4eOnB5Qbb9PyAw8a6FoLnPYf3KMsS2hg+BSVTntJ6qw/DsPX5Yd5+AQa1x3Tgw0kIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Screen Shot 2019 07 12 at 5 f83b6304 cdd1 4a5a b5fe d5104eefe6b6 42 03 PM&quot;
        title=&quot;&quot;
        src=&quot;/static/4401cc05f124256703bc0d878e08d016/fcda8/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png&quot;
        srcset=&quot;/static/4401cc05f124256703bc0d878e08d016/12f09/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 148w,
/static/4401cc05f124256703bc0d878e08d016/e4a3f/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 295w,
/static/4401cc05f124256703bc0d878e08d016/fcda8/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 590w,
/static/4401cc05f124256703bc0d878e08d016/c7dcc/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 641w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;dissertation and academic data&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&quot;footnote-1&quot;&gt;[1]&lt;/span&gt; Sasiporn Tongman ・ Niwan Wattanakitrungroj, &amp;#x3C;Classifying Positive or Negative Text Using Features Based on Opinion Words and Term Frequency - Inverse Document Frequency&gt;, 5th International Conference on Advanced Informatics: Concept Theory and Applications (ICAICTA), 2018, p.161.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;websites&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Euclidean distance, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Euclidean_distance&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Euclidean_distance&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;Taxicab geometry, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Taxicab_geometry&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Taxicab_geometry&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;Cosine similarity, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Cosine_similarity&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Cosine_similarity&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;TF-IDF, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Tf%E2%80%93idf&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Tf–idf&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;Okt class, KoNLPy, &lt;a href=&quot;http://konlpy.org/en/latest/api/konlpy.tag/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;http:// konlpy.org/en/latest/api/konlpy.tag/&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[TF-IDF를 활용한 클래스 유사도 분석과 추천 서버 구축 1편]]></title><description><![CDATA[Overview 클래스101에서 추천 서버를 담당하고 있는 Esmond입니다. 최근에 TF-IDF(Term Frequency - Inverse Document Frequency)를 활용해 클래스 간의 유사도를 분석하고 이를 API…]]></description><link>https://class101.dev/ko/blog/2019/07/16/esmond</link><guid isPermaLink="false">https://class101.dev/ko/blog/2019/07/16/esmond</guid><pubDate>Tue, 16 Jul 2019 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;Overview&lt;/h2&gt;
&lt;p&gt;클래스101에서 추천 서버를 담당하고 있는 Esmond입니다. 최근에 TF-IDF(Term Frequency - Inverse Document Frequency)를 활용해 클래스 간의 유사도를 분석하고 이를 API로 올렸습니다. 그 개발 과정과 이를 통해 앞으로 개선할 점을 두 편의 글로 쓰겠습니다.&lt;/p&gt;
&lt;h2&gt;개발 배경 및 목표&lt;/h2&gt;
&lt;p&gt;클래스101 앱에서 볼 수 있는 수백 개의 클래스를 어떻게 분류할 수 있을까요? 우리는 크게 두 가지의 기준을 가지고 있습니다.&lt;/p&gt;
&lt;p&gt;첫째, 클래스가 처음 제작될 때 지정되는 클래스의 카테고리로 분류한다.&lt;/p&gt;
&lt;p&gt;둘째, 클래스 오픈이 확정된 이후 비슷한 주제로 엮이는 클래스의 컬렉션으로 분류한다.&lt;/p&gt;
&lt;p&gt;요즘은 클래스101이 빠르게 성장하면서 늘어난 유저에게 카테고리나 컬렉션과 같이 간단한 추천만 하기엔 역부족으로 보입니다. 보다 구체적으로 추천할 수 있는 로직이 필요해졌기에, 개발팀에서는 ‘클래스 간의 유사도’라는 지표를 분석하고 활용해보기로 결정했습니다. 이번 개발로 우리는 세 가지의 기능을 구현하기로 했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;모든 클래스에 대해 유사도가 높은 N개의 클래스를 DB에 저장한다.&lt;/li&gt;
&lt;li&gt;클래스가 추가될 때마다 자동으로 해당 데이터를 갱신한다.&lt;/li&gt;
&lt;li&gt;API로 오픈되어 어플리케이션 Layer에서 쉽게 접근할 수 있도록 한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;객체 수치화를 위한 유사도 측정법 조사&lt;/h2&gt;
&lt;p&gt;클래스 간의 유사도를 추출하려면 먼저 유사도를 측정하는 여러가지 방법들을 알아야 합니다. 지금부터 소개하는 Euclidean Distance, Manhattan Distance, Cosine Similarity는 자주 쓰이는 유사도 측정법입니다.&lt;/p&gt;
&lt;h3&gt;Euclidean Distance&lt;/h3&gt;
&lt;p&gt;가장 간단하고도 유명한 방법으로, 두 벡터 간의 직선 거리를 측정하는 방식입니다. 2차원에서는 피타고라스 정의로도 유명한 바로 그 방법입니다. 점 p = (p1, p2, …, pn), q = (q1, q2, …, qn) 에 대하여&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49747e27a04f569280364649225b30cf/48711/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 459px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 8.714596949891067%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAUUlEQVQI103NSQqAQBBD0YgLpRXBoaWdQAXp+9/QL2Th4lFQJFWSNKBFgQsJB1bcGD0DSjzImJ3LznzdE9rQoPciONxhQYUd9a84+Xj0Y7kTXxlpA1zY5MEDAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Untitled d230bf87 2140 4196 8e40 871c0ac265de&quot;
        title=&quot;&quot;
        src=&quot;/static/49747e27a04f569280364649225b30cf/48711/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png&quot;
        srcset=&quot;/static/49747e27a04f569280364649225b30cf/12f09/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 148w,
/static/49747e27a04f569280364649225b30cf/e4a3f/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 295w,
/static/49747e27a04f569280364649225b30cf/48711/Untitled-d230bf87-2140-4196-8e40-871c0ac265de.png 459w&quot;
        sizes=&quot;(max-width: 459px) 100vw, 459px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;와 같이 계산합니다.&lt;/p&gt;
&lt;h3&gt;Manhattan Distance&lt;/h3&gt;
&lt;p&gt;Taxicab geometry라고도 합니다. 다음과 같이 정사각형으로 나뉜 공간에서 좌표로 표시된 한 점이 다른 한 점으로 가는 길의 거리입니다.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8d9d444544155b7d57bdb9b8e829d3da/772e8/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 200px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAE3klEQVQ4yzVVXWxTZRg+XBGuvNCoV0O5cVdgAndEZkATlEQk6qJCiIhMhMRkILiA2U9/oFtL27VdwbXrfmhX99P1+07Pb0972vXnrCtu6/gzbG4leoEihmziiCSjvu9p1+TN97Y9ffI97/M8bxkGXpFE4r3g/Hy93ieTTXi6nj17YVxVD2M/ks/vHs1m38Z+PJVqDNwvv4q9kBW/wXP6cfp1NT15kNkAi/f3P8lZLNOaweBTPZ7neZMpnO3slFJu97+FtjZP2uFYTDud5UJrqyvlcq1kurpSBZNhKGwaqniPTwRaDhjUr44efcpL0idMsFSqz1osBdXt7gXgI0I4vKz4/aflgQED9DeTXu9HYjBIxFBIUHt6DvKh8M/y4KCVOAMnHAa5PGpTj31tOxzpsDTOcZHSm/otNaOxFwCOYE85btaxvr4Z6G4nPB/Hz4ggtEJZsOfkGEnNkgbsu7u1eWaNqeuZ++7UXc09sEG5CWiuw22WCMfNsJSuQd2Euge1ClWEekAI+6fAk+neXmXFZs0s2izaTPO1vmc+0b+o0MgvCcG1HiHKWR00bzaH4kDTXqlshh/fopRuhdoLlcbvWZZ2xWLUjb3ZnBeNF0qHXoztfOtazLdU+bGyRRKuHs3FL08wG2qCACLODGkC4AKCsSz7BaVsEcC2wdkXDImhTnOhztReTJ6K/mA3Fc58KlFxIUzEXXG+/3xGtqr+n35/mRlPJg+jmigAzgxpAuAkgkH9zXFEGBqSykbDVNneqXHfXu1b8cZ652UqKYQlTwjlEwIXnlMl91okmjip33Kqrc2Naur0KL1Ro7kNwbD3uFPfd9umjNj7E550KTqzvfZMCc+05NyrKcaADjaSy+0Gjy2CLQgo2QaAf8CDVqSJNwOwliudWqI54F1wJWxOYUK+AzcbhpFcguceEioYRC44AqDLYxOT7zKYAABcBkAerUEJ+xAFCIaEoMmolV02zdDc711w095plSYuANgSS9kxyrJ2liWPKOWsEnc9mpa6fxuLpt/XbwkJcKreng/1OPGkiGfX5ak6e5cW04VL2BwAdrFKkx2BGe/Q/UkFnXKcDzRoisGng4GyjSDKCj8cngHTUp9PWbl0KS+bO4oqCuBXeiZrNJcBbAxo4kgKlMb4hHhtFewSyyumaVX0rEaiyS8ZCPorGatVlYcGrek50nDFlvnVdLF0CK2BaqIAABaqgrE7AGwKwFpELrQfrHI/I9v2yfxAe4yN5gjltlYpmw0DpLv/BPYgwOxLsV170GdgjXiNphnKXlOWA6vsf3Bj9xaY252dZyqbJojcCCKOMrUVdHIYtoa9Qy47HVoJ44QJANPeI5T8AwBzqCbUX+CAWTjBp2yZi43fViXPU3h/Cz7HcVRgtud00J7jUf8IbA0MOmaz4qtswQQABaU2/A4oa7Xn2PFocl/lEbMJrHJbXyiUPQTAYR2s+Dj92vkDhmQTrCDYGqcx6JhNjBMmAE2LPoOZRSdl+x6BGy6ATdqz8a5GmF8ZwcBClupsaT2TSmc+wOWI++yu5hlMCO7nubglitkESmugYABmtYw+gzT4UpJ7dVK+kod+VBECFbhxGMGg/gPAz6tzlKWPN5bjBFHO6BGDoEM29b8DSMA7G6YFaxy7Pnpra/VZ+VyN8htwy8+w/x+0tIcUAntFYAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Untitled 6d28fa68 102f 48d2 81df d940175de695&quot;
        title=&quot;&quot;
        src=&quot;/static/8d9d444544155b7d57bdb9b8e829d3da/772e8/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png&quot;
        srcset=&quot;/static/8d9d444544155b7d57bdb9b8e829d3da/12f09/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png 148w,
/static/8d9d444544155b7d57bdb9b8e829d3da/772e8/Untitled-6d28fa68-102f-48d2-81df-d940175de695.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;점 p = (p1, p2, …, pn), q = (q1, q2, …, qn) 에 대하여&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1b3fc841c5ac5cdfeea1646993690292/908b1/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 280px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 19.642857142857142%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAZ0lEQVQY053PywqAIBCF4RZdaZGQRlDUIuhGm6L3f7Z+42xdlPAxKDNHjaLvK0aPPNQwYUSrmqHGigQGM0qk6HBqP+jMhztYH3hgU/CihgaXXuObblQKMZqxqj6s0KXux4/f0D00/ACRWwRBcvwksQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Untitled 57fb3268 3025 4198 95d2 bc75e2bf275c&quot;
        title=&quot;&quot;
        src=&quot;/static/1b3fc841c5ac5cdfeea1646993690292/908b1/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png&quot;
        srcset=&quot;/static/1b3fc841c5ac5cdfeea1646993690292/12f09/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png 148w,
/static/1b3fc841c5ac5cdfeea1646993690292/908b1/Untitled-57fb3268-3025-4198-95d2-bc75e2bf275c.png 280w&quot;
        sizes=&quot;(max-width: 280px) 100vw, 280px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;와 같이 계산합니다.&lt;/p&gt;
&lt;h3&gt;Cosine Similarity&lt;/h3&gt;
&lt;p&gt;내적공간의 두 벡터에 대하여 벡터의 크기가 아닌 방향의 유사도를 판단하는 목적으로 사용합니다. 두 벡터의 방향이 비슷할 수록 유사도가 높다고 판단합니다. 두 벡터의 방향이 완전히 다를 경우(각도가 180°일 때)와 완전히 같을 경우(각도가 0°일 때)의 코사인 값 -1에서 1 사이의 값을 가집니다.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a58e7dd6118987ed6ebe119ded9f2e73/3d026/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 429px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 27.272727272727277%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAsElEQVQY051QyQqFMBDr/3+aRw9KD+JW3MBdwT2SgfH2Li8QOknbkNbc943runCeJzgTz/PgOI5Pt22LoiiwLAsUPJ+mqexVVfX5xlqLMAyFvDTPM+I4Bv2u64S+78PzPARBgG3bvjPUfd9LIHXTNDBsQbKVzkpimiZkWYYoipAkiXh8EdsxQBvmeY66rmHwB8qylHAGcHXOiTcMAwyb/aL+p1Jbj+OIdV1l3vddtOIFFZSAJYwXWM0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Untitled 477f1d55 4962 4ce0 a5b4 2ec9751bc69c&quot;
        title=&quot;&quot;
        src=&quot;/static/a58e7dd6118987ed6ebe119ded9f2e73/3d026/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png&quot;
        srcset=&quot;/static/a58e7dd6118987ed6ebe119ded9f2e73/12f09/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 148w,
/static/a58e7dd6118987ed6ebe119ded9f2e73/e4a3f/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 295w,
/static/a58e7dd6118987ed6ebe119ded9f2e73/3d026/Untitled-477f1d55-4962-4ce0-a5b4-2ec9751bc69c.png 429w&quot;
        sizes=&quot;(max-width: 429px) 100vw, 429px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;와 같이 계산합니다.&lt;/p&gt;
&lt;p&gt;위와 같은 유사도 측정법을 클래스에 적용하려면 먼저 클래스라는 개념적인 객체를 수치화하는 과정이 필요했습니다. 이 과정에서 활용되는 개념이 바로 벡터 공간 모델인 TF-IDF입니다. TF-IDF란 특정 Document에 등장하는 단어들이 해당 Document에서 얼마나 중요한지를 나타내는 통계적 수치입니다. 이 값이 높은 단어일수록 Document에서 중요한 단어라고 판단할 수 있습니다. 이 값은 TF(단어의 빈도)와 IDF(문서 빈도의 역수)의 곱으로 계산됩니다. 다시 말해 이 TF-IDF값을 활용하여 클래스를 Vectorization한 뒤 유사도를 측정하는 식으로 클래스 간 유사도를 계산한다고 할 수 있습니다. &lt;a href=&quot;#footnote-1&quot;&gt;[1]&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;개발 과정&lt;/h2&gt;
&lt;p&gt;클래스라는 객체는 클래스 제목, 클래스 설명, 오픈 예정일, 크리에이터… 등등 여러 가지 속성을 가지고 있습니다. 이 모든 속성들을 전부 반영하여 클래스라는 개념을 수치화할 수 있다면 정말 좋겠지만, 우선은 클래스 제목과 설명 값만 가지고 유사도를 구해보기로 했습니다. TF-IDF를 활용한 vectorization과 유사도 분석은 관련 내장 함수들이 잘 갖춰진 scikit-learn을 사용했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;pip install scikit&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;learn&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.21&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;예제 문장에 대하여 TF-IDF를 활용해 Vectorization을 하고, 유사도(similarity)를 구해보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; sklearn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;feature_extraction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TfidfVectorizer


doc_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;프리시즌 아시아 투어를 떠나는 토트넘은 싱가포르, 중국을 차례로 방문해 ICC 경기를 치른다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;영국 &quot;풋볼 런던&quot;은 11일 &quot;토트넘이 ICC 첫 경기에서 가장 강력한 스쿼드로 유벤투스에 맞설 것&quot;이라고 평가했다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;토트넘에 합류하는 손흥민은 유벤투스전 출전을 목표로 구슬땀을 흘릴 예정이다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

tfidf_vectorizer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TfidfVectorizer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;min_df&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tfidf_vectorizer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fit_transform&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
doc_similarities &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; tfidf_matrix&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_similarities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toarray&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[[1.         0.04612956 0.        ]
    [0.04612956 1.         0.        ]
    [0.         0.         1.        ]]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서 1은 자기 자신과의 유사도를 의미합니다. 자기 자신과, 문장 형태가 아주 비슷한 케이스를 제외하고는 유사도가 그리 높지 않은 것을 알 수 있습니다. 그렇다면 konlpy와 같은 패키지를 사용해 특정 품사(명사)만 추출하고 유사도를 개선해보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;pip install konlpy&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.1&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; konlpy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tag &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Okt


okt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Okt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

doc_nouns_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;okt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nouns&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; doc &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; doc_list&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_nouns_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

tfidf_vectorizer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TfidfVectorizer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;min_df&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tfidf_vectorizer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fit_transform&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_nouns_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
doc_nouns_similarities &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; tfidf_matrix&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_nouns_similarities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toarray&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
    &amp;#39;프리 시즌 아시아 투어 토트넘 싱가포르 중국 차례 방문 경기&amp;#39;,
    &amp;#39;영국 풋볼 런던 은 토트넘 첫 경기 가장 스 쿼드로 유벤투스 것 평가&amp;#39;,
    &amp;#39;토트넘 합류 손흥민 유벤투스 전 출전 목표 구슬 땀 예정&amp;#39;
]

[[1.         0.11327504 0.04435806]
    [0.11327504 1.         0.12859167]
    [0.04435806 0.12859167 1.        ]]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;결과를 보면 조금 더 정밀하게 유사도를 측정할 수 있게 되었다는 걸 알 수 있습니다.(a)&lt;/p&gt;
&lt;p&gt;지금부터는 실제 클래스 데이터들 간의 유사도를 계산하겠습니다. 10개의 카테고리에 대해서 클래스를 10개씩 총 100개의 샘플 클래스를 선정했습니다. 이제 상호 간 유사도를 측정한 뒤, 유사도 상위 10개의 클래스에 대하여 카테고리 일치 비율을 살펴보겠습니다. 이제부터 클래스는 product로 명명합니다.&lt;/p&gt;
&lt;p&gt;사전에 DB에서 다음과 같은 schema의 product 데이터 100개를 product_list 변수에 담아두었습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;category_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CATEGORY_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;일러스트레이터 집시의 매력적인 얼굴 그리기&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;어떻게 그려도 예쁘고 멋진 비율과 비례, 매력과 생명력을 좌우하는 눈 코 입의...&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 할 일은 다음과 같습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;title과 description의 명사들을 추출하여 새로운 product dictionary 목록을 만든다.&lt;/li&gt;
&lt;li&gt;title과 description에 대하여 각각 TfidfVectorizer로 vectorizing한 뒤 유사도를 계산하여 top 10개의 product id와 similarity 값을 저장한다.&lt;/li&gt;
&lt;li&gt;타겟 클래스와 카테고리가 일치하는 비율을 구한다.&lt;/li&gt;
&lt;li&gt;100개의 샘플 데이터에 대하여 타겟 클래스와 카테고리가 일치하는 비율의 평균을 구한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;각각의 기능들을 구현한 메소드와 실행 결과입니다.&lt;/p&gt;
&lt;p&gt;1.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; konlpy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tag &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Okt
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; tqdm &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; tqdm_notebook


okt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Okt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_product_noun_list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_list&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;category_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;title_noun&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;okt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nouns&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;description_noun&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;okt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nouns&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;description&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; tqdm_notebook&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;


product_noun_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/39a59ba9c903f143f64f44cb02f7da83/302a4/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 7.4074074074074066%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAMklEQVQI12O49fb2/wsvLv6/9PLS/4sE8JvPb/7//PHz/7dv3+D4+/fv/3/8+AGmQXwAcElJ9KIagQMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Screen Shot 2019 07 12 at 7 751cae5a ea27 494e b280 8c20842038b0 56 48 PM&quot;
        title=&quot;&quot;
        src=&quot;/static/39a59ba9c903f143f64f44cb02f7da83/fcda8/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png&quot;
        srcset=&quot;/static/39a59ba9c903f143f64f44cb02f7da83/12f09/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 148w,
/static/39a59ba9c903f143f64f44cb02f7da83/e4a3f/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 295w,
/static/39a59ba9c903f143f64f44cb02f7da83/fcda8/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 590w,
/static/39a59ba9c903f143f64f44cb02f7da83/efc66/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 885w,
/static/39a59ba9c903f143f64f44cb02f7da83/302a4/Screen_Shot_2019-07-12_at_7-751cae5a-ea27-494e-b280-8c20842038b0.56.48_PM.png 1080w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;jupyter notebook 환경에서 실행하면서 tqdm으로 iteration을 살펴봤습니다. 1초당 약 13.46 바퀴를 돌았고 100개의 데이터를 처리하는데 약 7초 정도가 걸렸습니다. 아마 konlpy 코어가 자바로 구성되어 JPype을 통해 자바를 돌리는 시간이 오래 걸린 것 같습니다.&lt;/p&gt;
&lt;p&gt;2.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;tfidf_vectorizer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TfidfVectorizer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;min_df&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_similar_products&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_noun_list&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; field&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; top_n&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    output &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tfidf_vectorizer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fit_transform&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;field&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    doc_similarities &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tfidf_matrix &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; tfidf_matrix&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; idx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; similarities &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doc_similarities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toarray&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        top_similar_product_indices &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; similarities&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;argsort&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;top_n&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;idx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;top_similar_products&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;similar_idx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&quot;similarity&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;similarities&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;similar_idx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; similar_idx &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; top_similar_product_indices&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; output

title_similar_products &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_similar_products&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;title_noun&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
description_similar_products &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_similar_products_new&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_noun_list&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;title_noun&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_similar_products&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;#39;product_id&amp;#39;: &amp;#39;xxxxx&amp;#39;,
    &amp;#39;top_similar_products&amp;#39;: [
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.280641},
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.182949},
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.180826},
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.156225},
        {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;similarity&amp;#39;: 0.137592}
    ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;product_id는 모두 xxxx로 표기했습니다.&lt;/p&gt;
&lt;p&gt;3.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;CATEGORY_DICT &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;product_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    CATEGORY_DICT&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_ratio_list_of_same_category&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;similar_products&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    ratio_list_of_same_category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; target_product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; similar_products&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        category_of_target_product &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; CATEGORY_DICT&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;target_product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        category_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;CATEGORY_DICT&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;product_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; product &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; target_product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;top_similar_products&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

        same_category_ratio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; category_list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;category_of_target_product&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;category_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; target_product&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;product_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;same_category_ratio&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; same_category_ratio
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ratio_list_of_same_category

title_ratio_list_of_same_category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_similar_products&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
desc_ratio_list_of_same_category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;description_similar_products&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.3},
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.2},
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.4},
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.6},
    {&amp;#39;product_id&amp;#39;: &amp;#39;xxxx&amp;#39;, &amp;#39;same_category_ratio&amp;#39;: 0.4},
    ...
]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;4.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_avaerage_of_ratio&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ratio_list_of_same_category&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    ratio_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;same_category_ratio&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; dc &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ratio_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ratio_list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

title_avaerage_of_ratio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_avaerage_of_ratio&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
desc_avaerage_of_ratio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_avaerage_of_ratio&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;desc_ratio_list_of_same_category&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&quot;title 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title_avaerage_of_ratio&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&quot;description 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;desc_avaerage_of_ratio&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;title 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: 0.224
description 기준 타겟 클래스와 카테고리가 일치하는 비율의 평균: 0.425&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;기존 카테고리 기반 클래스 군집화와 클래스 제목, 설명을 기준으로 유사도 분석 결과 비교까지 해봤습니다. 다음 글에서는 이렇게 구한 유사 클래스 목록을 DB에 저장하고 새로운 클래스가 추가될 때마다 데이터를 update하여 서버를 다시 시작하지 않아도 API를 지속적으로 제공하는 추천 서버의 배포 과정을 소개하겠습니다.&lt;/p&gt;
&lt;h2&gt;참고&lt;/h2&gt;
&lt;p&gt;(a) konlpy의 Okt(구 Twitter)는 여러 클래스 중 유일하게 pos tagging에서 토큰을 normalize하는 기능을 사용할 수 있다.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4401cc05f124256703bc0d878e08d016/c7dcc/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 30.42121684867395%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABIElEQVQY04VRSU7EQAzM5+EXfABx5QQ3lBtX9kFkX3rNMpOeLJOiOtJwmAuWLHfbZbuqO0jSFFGcQCqNPL9GUT5CqQOkFKiFZF5CyBZV3WFZFpxOpz/393PubIFzDmmWI05SJOknsizCTxQhLwrEccx7zdoTMfeoKsWlBRJiq6rezr7Xu3NHzPOMwE/N8hxfu28y0WjbAdZOMLZhNOh7QOtnCHEH2+yZs8RJRtabBsZYKtKbmp7gwNNt224DOjdhXQ3jA2WMlANMU4hx3MGrGscj/rNgXVduVKSdcVtHKW8IwyvmSkov8P5xg5fXWypIyURy6Ajf44n4eOnB5Qbb9PyAw8a6FoLnPYf3KMsS2hg+BSVTntJ6qw/DsPX5Yd5+AQa1x3Tgw0kIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Screen Shot 2019 07 12 at 5 f83b6304 cdd1 4a5a b5fe d5104eefe6b6 42 03 PM&quot;
        title=&quot;&quot;
        src=&quot;/static/4401cc05f124256703bc0d878e08d016/fcda8/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png&quot;
        srcset=&quot;/static/4401cc05f124256703bc0d878e08d016/12f09/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 148w,
/static/4401cc05f124256703bc0d878e08d016/e4a3f/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 295w,
/static/4401cc05f124256703bc0d878e08d016/fcda8/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 590w,
/static/4401cc05f124256703bc0d878e08d016/c7dcc/Screen_Shot_2019-07-12_at_5-f83b6304-cdd1-4a5a-b5fe-d5104eefe6b6.42.03_PM.png 641w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;참고문헌&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;논문 및 학술자료&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id=&quot;footnote-1&quot;&gt;[1]&lt;/span&gt; Sasiporn Tongman ・ Niwan Wattanakitrungroj, &amp;#x3C;Classifying Positive or Negative Text Using Features Based on Opinion Words and Term Frequency - Inverse Document Frequency&gt;, 5th International Conference on Advanced Informatics: Concept Theory and Applications (ICAICTA), 2018, p.161.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;웹사이트&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Euclidean distance, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Euclidean_distance&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Euclidean_distance&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;Taxicab geometry, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Taxicab_geometry&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Taxicab_geometry&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;Cosine similarity, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Cosine_similarity&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Cosine_similarity&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;TF-IDF, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Tf%E2%80%93idf&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Tf–idf&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;Okt class, KoNLPy, &lt;a href=&quot;http://konlpy.org/en/latest/api/konlpy.tag/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;http:// konlpy.org/en/latest/api/konlpy.tag/&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Usage of TypeScript and JavaScript from the Python Server Developer’s point of view]]></title><description><![CDATA[Overview When developers build their career around three years, they want to try new things. Same here too, I wanted to take part in web…]]></description><link>https://class101.dev/en/blog/2019/07/16/lama</link><guid isPermaLink="false">https://class101.dev/en/blog/2019/07/16/lama</guid><pubDate>Tue, 16 Jul 2019 14:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;Overview&lt;/h2&gt;
&lt;p&gt;When developers build their career around three years, they want to try new things. Same here too, I wanted to take part in web backend at active startup company; and it brought me to CLAA101. Then what is the difference between Python, JS (JavaScript), and TS (TypeScript)? Let’s see the difference in four aspects. I believe this content will certainly help you if you are looking for a new career from server developer to web backend developer. &lt;/p&gt;
&lt;h2&gt;How to use Dictionary&lt;/h2&gt;
&lt;p&gt;Dictionary is convenient to store and process data. Therefore, developers frequently use this type. Usually, we write as below to circulate the map’s key. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;sample_dictionary &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;B&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;C&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;keys&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, in JS, we write as below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sample_dictionary &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It gets key by using &lt;code class=&quot;language-text&quot;&gt;object.keys()&lt;/code&gt;, not by the object’s method. It is because JS treat the variable as Object while Python treats it as a Dictionary or Map. Thus, a key is treated as an attribute, and we can make, call, or set the object like below. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sample_dictionary &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;&quot; 을 꼭 붙히지 않아도 속성이기때문에 상관없음&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Set&lt;/span&gt;
sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 가능&lt;/span&gt;
sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 가능&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Get&lt;/span&gt;
sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 가능&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Type Transition&lt;/h2&gt;
&lt;p&gt;There has been a lot of opinion regarding type transition of JS. Even the meme was made. &lt;/p&gt;
&lt;p&gt;[그림1]&lt;/p&gt;
&lt;p&gt; Like picture 1, in JS, there is a type transition for the comparison process. Thus, I got feedback to be careful of transition at my first code review. If you are not using code alone, we should consider the result of type transition by using ==. Therefore, it is correct to use ===(strict equal)&lt;/p&gt;
&lt;h2&gt;Function Abbreviation&lt;/h2&gt;
&lt;p&gt;We can use an anonymous function such as Lambda in Python. However, it is only possible when we are working for a simple task, and hard to write simple or long like usage of .map or =&gt; in JS. According to the source below, in Python, we can check that it is difficult to use lambda or comprehension when two tasks have to be done in one loop. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;sample_data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    result_data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; sample &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; sample_data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        temp_calc &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sample&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;do_something&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        temp_calc_after_something &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; another_something&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp_calc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        result_data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;appned&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp_calc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, we can reduce the form in JS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sample_data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result_data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sample_data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; temp_calc &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;do_something&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; temp_calc_after_something &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;another_something&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp_calc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;TS for lowering error rate&lt;/h2&gt;
&lt;p&gt;TS is a language that supplemented Type check function to JavaScript to overcome the drawback of JS. CLASS101 system is based on TS. It was unfamiliar to use TS at first. I need to put more effort to subtract interface, adjust return and factor type. &lt;/p&gt;
&lt;p&gt;However, TS help us to easily handle the several cases from None problem of Python to the undefined, null problem of JS. Although it would take some time to adapt in TS system, adoption of TS will definitely a good alternative to lower the error rate.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Until now, we have look through the difference between TS and JS. For me, it was very useful to understand the difference and use both languages. I believe the better code would be made through the deeper understanding of development language though some people say ‘language is just a tool’. I hope you to become familiar with TS, JS through this chance. &lt;/p&gt;
&lt;h2&gt;Refrence&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Website&lt;/strong&gt;
JavaScript 객체 기본, MDN web docs, &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/Basics&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/Basics&lt;/a&gt; 참조. (2019.07.12)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Python 서버 개발자 관점에서 본 TypeScript, JavaScript]]></title><description><![CDATA[편집자 주 ‘Python’은 독자의 가독성을 높이기 위해 글의 제목과 코드를 제외한 본문 전체에서 ‘파이썬’으로 한글 표기함. 이는 외래어 표기법 상 관용에 해당함. Overview 개발자가…]]></description><link>https://class101.dev/ko/blog/2019/07/16/lama</link><guid isPermaLink="false">https://class101.dev/ko/blog/2019/07/16/lama</guid><pubDate>Tue, 16 Jul 2019 14:12:03 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;편집자 주&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;‘Python’은 독자의 가독성을 높이기 위해 글의 제목과 코드를 제외한 본문 전체에서 ‘파이썬’으로 한글 표기함. 이는 외래어 표기법 상 관용에 해당함.&lt;/p&gt;
&lt;h2&gt;Overview&lt;/h2&gt;
&lt;p&gt;개발자가 3년 정도의 경력을 쌓으면 새로운 개발을 꿈꿉니다. 저도 마찬가지였습니다. 활기찬 스타트업에서 웹 백엔드를 맡아 개발하고 싶은 마음이 생겨났죠. 클래스101으로 이직한 이유이기도 합니다. 그렇다면 파이썬(Python)과 JS(JavaScript), TS(TypeScript)가 언어적으로 무엇이 다를까요. 크게 네 가지로 알아보겠습니다. 혹시 저처럼 서버 개발자에서 웹 백엔드 개발자로 새로운 일에 도전해보고 싶다면 이번 글이 분명 도움이 될 겁니다.&lt;/p&gt;
&lt;h2&gt;Dictionary 사용법&lt;/h2&gt;
&lt;p&gt;Dictionary는 데이터의 가공과 저장이 편리합니다. 개발자들이 자주 쓰는 타입이기도 하죠. 보통 맵의 key를 순회시키면 아래와 같이 씁니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;sample_dictionary &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;B&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;C&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;keys&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;하지만 JS에서는 아래와 같이 씁니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sample_dictionary &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;해당 객체의 method가 아닌 &lt;code class=&quot;language-text&quot;&gt;Object.keys()&lt;/code&gt;를 사용해서 key를 받아옵니다. 파이썬에서 하던 대로 JS에서 선언하면 해당 변수를 Dictionary, Map으로 취급하지 않고 &lt;strong&gt;Object로 취급하기 때문입니다.&lt;/strong&gt; 따라서 하나의 키가 하나의 속성으로 취급 받는 것이고, 아래와 같이 Object 만들기, 호출, 설정을 할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sample_dictionary &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;&quot; 을 꼭 붙히지 않아도 속성이기때문에 상관없음&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Set&lt;/span&gt;
sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 가능&lt;/span&gt;
sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 가능&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Get&lt;/span&gt;
sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
sample_dictionary&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 가능&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;타입 변환&lt;/h2&gt;
&lt;p&gt;JS의 타입 변환은 이전부터 말이 많았습니다. 오죽했으면 이런 meme까지 등장했을까요.&lt;/p&gt;
&lt;p&gt;[그림1]&lt;/p&gt;
&lt;p&gt;위의 그림과 같이 JS에서는 비교할 때 형 변환이 이뤄지는데요. 이 때문에 첫 코드 리뷰에서 변환에 조심하자는 피드백을 받기도 했습니다. 업무에서 자신만 코드를 쓰는 것이 아니라면 == 을 쓸 때 형 변환으로 어떤 결과가 나와야 할지 모두 다 고려해야 합니다. 그러므로 === (strict equal) 을 쓰는 것이 맞습니다.&lt;/p&gt;
&lt;h2&gt;함수의 축약&lt;/h2&gt;
&lt;p&gt;파이썬에서도 람다(Lambda)와 같은 익명 함수를 쓸 수 있습니다. 다만 단순한 작업일 때만 해당하고 JS에서의 .map이나 =&gt; 과 같이 간단하거나 길게 쓰기는 어렵습니다. 아래의 소스를 보면 파이썬에서는 하나의 루프에서 두 개의 작업을 해야할 때 컴프리헨션 또는 람다를 사용하기가 어렵다는 것을 알 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;sample_data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    result_data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; sample &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; sample_data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        temp_calc &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sample&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;do_something&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        temp_calc_after_something &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; another_something&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp_calc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        result_data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;appned&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp_calc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;하지만 JS에서는 아래와 같이 줄여서 쓸 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sample_data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result_data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sample_data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; temp_calc &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;do_something&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; temp_calc_after_something &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;another_something&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp_calc&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;에러율을 낮추는 TS&lt;/h2&gt;
&lt;p&gt;TS는 JS의 단점을 보완하고자 JavaScript에 Type check 기능을 도입한 언어입니다. 클래스101에서는 TS를 기반으로 쓰고 있습니다. TS를 처음 마주했을 때는 익숙하지 않았습니다. interface를 따로 빼고, return 타입, 인자 타입을 다 맞춰야 하는 등 시간을 많이 들여야 했죠.&lt;/p&gt;
&lt;p&gt;하지만 TS는 파이썬의 None 문제부터 JS의 undefined, null 문제까지 유연하고 쉽게 핸들링할 수 있도록 도와줍니다. JS를 쓰고 있었다면 적응하는데 시간이 걸리겠지만 막상 도입하고 익숙해지면 분명 에러율을 낮추는 좋은 대안이 될 것입니다.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;지금까지 파이썬과 TS, JS의 차이점을 살펴봤습니다. 이러한 차이점을 이해하고 업무에서 TS, JS를 함께 쓰니 좀 더 나은 코드를 만들 수 있었습니다. ‘언어는 도구에 불과하다’는 말이 있긴 하지만 개발 언어에 대한 이해도가 깊을수록 보다 좋은 코드가 나올 수 있을 겁니다. 이번 기회에 TS, JS와 친해지는 건 어떨까요?&lt;/p&gt;
&lt;h2&gt;참고문헌&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;웹사이트&lt;/strong&gt;
JavaScript 객체 기본, MDN web docs, &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/Basics&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/Basics&lt;/a&gt; 참조. (2019.07.12)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Monorepo with typescript (1)]]></title><description><![CDATA[Jump to Monorepo 편집자 주
‘Monorepo’는 독자의 가독성을 높이기 위해 글의 제목을 제외한 본문 전체에서 ‘모노레포’로 한글 표기함. 이는 외래어 표기법 상 관용에 해당함. Overview…]]></description><link>https://class101.dev/ko/blog/2019/07/12/tony</link><guid isPermaLink="false">https://class101.dev/ko/blog/2019/07/12/tony</guid><pubDate>Fri, 12 Jul 2019 22:12:03 GMT</pubDate><content:encoded>&lt;h1&gt;Jump to Monorepo&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;편집자 주&lt;/strong&gt;
‘Monorepo’는 독자의 가독성을 높이기 위해 글의 제목을 제외한 본문 전체에서 ‘모노레포’로 한글 표기함. 이는 외래어 표기법 상 관용에 해당함.&lt;/p&gt;
&lt;h2&gt;Overview&lt;/h2&gt;
&lt;p&gt;이번 글에서는 모노레포를 도입한 계기와 장・단점, Git history를 보존한 채 레포지토리를 합치는 방법을 다루겠습니다.&lt;/p&gt;
&lt;h2&gt;모노레포의 이해&lt;/h2&gt;
&lt;p&gt;모노레포는 두 개 이상의 프로젝트 코드를 하나의 레포지토리에서 관리하는 기법입니다.[1] 페이스북이나 구글, 마이크로소프트 등 대형 소프트웨어 기업에서도 사용되고 있고, 일부 인기 있는 오픈 소스 프로젝트들도 그들의 레포지토리를 관리하기 위해 Monorepo를 쓰고 있습니다. 그렇다면 클래스101에서는 왜 모노레포가 필요할까요? 우선 그 특징부터 살펴보겠습니다.&lt;/p&gt;
&lt;h2&gt;모노레포의 특징&lt;/h2&gt;
&lt;h3&gt;코드의 재사용&lt;/h3&gt;
&lt;p&gt;여러 레포지토리에서 프로젝트를 진행하면 비슷한 로직을 각 레포지토리에서 중복 구현하는 때가 많습니다. 공통 로직을 다시 작성하지 않고 공유하려면 레포지토리를 추가하고 이에 해당하는 의존성을 추가해주어야 합니다. 다른 레포의 의존성을 추가하는 것은 같은 레포에서 패키지의 의존성을 추가하는 것보다 많은 비용이 듭니다. 만약 멀티레포에서는 적절한 버전을 찾아 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; 에 추가해주고 &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; 과 같은 커맨드를 매번 실행해주어야 합니다. 반면 lerna(JavaScript 모노레포 관리 툴)를 사용한다면 &lt;code class=&quot;language-text&quot;&gt;lerna boostrap&lt;/code&gt; 이라는 하나의 커맨드로 모든 의존성을 추가하고 해당 상태에서 드 수정을 할 수 있습니다.&lt;/p&gt;
&lt;h3&gt;의존성 관리&lt;/h3&gt;
&lt;p&gt;클래스101에서는 Code Formatting을 위해 prettier, Code Linting을 위한 tslint를 사용합니다. 기존의 멀티레포 구조에서는 각 레포에 prettier, tslint를 각각 설치해야 했습니다. 하지만 모노레포와 함께라면 각 레포를 Cloning하고 일일이 업데이트하는 과정을 거치지 않아도 됩니다.&lt;/p&gt;
&lt;h3&gt;작은 커밋과 PR&lt;/h3&gt;
&lt;p&gt;여러 레포에서 변경사항이 있다면 개발자는 작은 커밋으로 나눠 PR(Pull Request)을 보내는 것보다, 모든 코드를 작성하고 이에 대한 의존성을 바꾸는 방식의 작업을 선호합니다. 하지만 모노레포에서는 여러 패키지의 변경사항을 하나의 커밋과 PR로 제출할 수 있습니다. 덕분에 더 작게 나눠서 작업할 수 있죠. 다만 하나의 커밋에는 한 패키지의 변경사항만 기록하는 SRP(Single Responsibility Principle, 단일 책임 원칙)를 지켜야 합니다.&lt;/p&gt;
&lt;h3&gt;대규모 리팩토링&lt;/h3&gt;
&lt;p&gt;모노레포로 레포지터리를 운영해보니 하나의 파일에 대한 컨트리뷰터가 상당히 많아졌습니다. 다행히 해당 로직을 이해하는 동료가 많아 여러 사람이 효율적으로 로직을 작성하는 방식에 대해서도 함께 생각할 수 있었죠. 이와 같은 멘탈 모델 얼라인으로 대규모 리팩토링을 유도할 수 있었습니다.&lt;/p&gt;
&lt;h3&gt;팀 간 협업&lt;/h3&gt;
&lt;p&gt;모든 구성원이 모든 코드에 접근할 수 있기 때문에 팀 간 협업이 자유롭습니다.&lt;/p&gt;
&lt;h3&gt;Trunk Based Development&lt;/h3&gt;
&lt;p&gt;모노레포에서는 서버와 웹을 합쳐 하나의 버전으로 판단할 수 있습니다. 이것은 Master 브랜치를 항상 배포할 수 있도록 유지하는 Trunk Basement Development를 진행하는 데에 도움이 됩니다.&lt;/p&gt;
&lt;h2&gt;모노레포의 필요성&lt;/h2&gt;
&lt;h3&gt;Schema Synchronization를 통한 인터페이스 변환&lt;/h3&gt;
&lt;p&gt;클래스101에서는 모든 코드를 TypeScript로 작성하고 있습니다. 또한 Apollo Server와 type-graphql을 이용하여 GraphQL기반 API도 작성하고 있어 GraphQL 스키마를 TypeScript 인터페이스로 변환하는 과정이 꼭 필요합니다. 우리는 이것을 Class101에서는 &lt;code class=&quot;language-text&quot;&gt;Schema Sync&lt;/code&gt; 라고 부릅니다. 기존에는 스테이징 서버에서 제공하주는 &lt;code class=&quot;language-text&quot;&gt;schema.gql&lt;/code&gt; 파일을 이용하여 &lt;code class=&quot;language-text&quot;&gt;Schema Sync&lt;/code&gt; 를 진행했었습니다. 하지만 스테이징 서버가 업데이트되기 전에 Schema를 변경하거나 이를 사용하는 웹과 앱에서 Fragment를 변경하면 위험할 수도 있었죠. 모노레포에서는 서버 코드를 변경할 때 코드를 기반으로 &lt;code class=&quot;language-text&quot;&gt;Schema Sync&lt;/code&gt; 를 실행할 수 있어 이러한 위험요소를 제거할 수 있었습니다.&lt;/p&gt;
&lt;h3&gt;테스트 실행&lt;/h3&gt;
&lt;p&gt;Cypress, Pupeeter등을 이용하여 E2E 테스트를 실행한다고 가정해봅시다. 배포가능함을 보장하기 위해선 서버가 변경됐을 때도, 웹이 변경됐을 때도 E2E 테스트를 실행해야 합니다. 멀티레포에서는 하나의 Testing레포를 만들거나 각각의 레포에 E2E테스트를 중복구현해야 합니다. 그러나 모노레포에서는 테스트를 위한 package하나만 추가해주면 모든 변경사항에 대해 지속적으로 테스트할 수 있습니다.&lt;/p&gt;
&lt;p&gt;모노레포를 도입하는 것은 빠르면 빠를수록 좋습니다. 코드가 늘어나고, 의존성이 늘어날 수록 고려해야 할 사항이 많이지기 때문이죠. 클래스101에서도 더 늦기 전에 모노레포를 도입하기로 했습니다. 가장 먼저 진행한 작업은 Code Base 조합이었습니다.&lt;/p&gt;
&lt;h2&gt;Code Base 조합(a)(b)&lt;/h2&gt;
&lt;h3&gt;개발 커뮤니케이션을 위한 Git history의 보존&lt;/h3&gt;
&lt;p&gt;개발자가 새로운 기능을 개발하다가 기존의 기능을 함께 이용하면 가장 많이 듣는 질문은 바로 “이거 왜 이렇게 개발했어?”입니다. 흔히 Blame이라고도 합니다. 이런 Blame에 대한 기록이 모두 사라지면 나중에 커뮤니케이션 효율이 떨어질 수밖에 없습니다. 이와 같은 부작용을 겪지 않기 위해 Git history를 모두 보존해야 했습니다. 먼저 lerna를 써봤습니다.&lt;/p&gt;
&lt;h3&gt;lerna의 사용과 문제점&lt;/h3&gt;
&lt;p&gt;lerna에는 &lt;code class=&quot;language-text&quot;&gt;import&lt;/code&gt;라는 커맨드가 존재합니다. 아래와 같은 폴더 구조를 가진 프로젝트를 가정해봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;package-1/
    package.json
my-lerna-repo/
    package.json
    packages/
    package-2/
        package.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약 package-1을 my-lerna-repo/에 추가하고 싶다면 &lt;code class=&quot;language-text&quot;&gt;import&lt;/code&gt;커맨드를 사용하면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# cd my-lerna-repo&lt;/span&gt;
lerna &lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/package-1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아래와 같은 에러가 나타난다면 flatten 옵션을 주어 실행하면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# &amp;lt;https://stackoverflow.com/questions/52119818/trouble-importing-project-in-lerna&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 해당 에러를 기록해 두지 않아 에러 로그는 스택오버플로우에서 가져왔습니다.&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; Rolling back to previous HEAD &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;commit a235ee9b3c382c9751abf792a22b2ec9df894a18&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Failed to apply commit a932c8cf8.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Command failed: &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; am -3 --keep-non-patch
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT error: Failed to merge &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; the changes.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Applying: Made Device Analytics Controller. Made device-analytics.stache be rendered through controller.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Using index info to reconstruct a base tree&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT M    packages/some-repo/app/scripts/app/controls/active-device.js
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT M    packages/some-repo/app/templates/device/active-device.stache
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT M    packages/some-repo/views/index.jade
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Falling back to patching base and &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;-way merge&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Auto-merging packages/some-repo/app/templates/device/device-analytics.stache
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT CONFLICT &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;add/add&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: Merge conflict &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; packages/some-repo/app/templates/device/device-analytics.stache
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Auto-merging packages/some-repo/app/scripts/app/controls/device-analytics.js
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT CONFLICT &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;add/add&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: Merge conflict &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; packages/some-repo/app/scripts/app/controls/device-analytics.js
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Auto-merging packages/some-repo/app/scripts/app/controls/active-device.js
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT CONFLICT &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;: Merge conflict &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; packages/some-repo/app/scripts/app/controls/active-device.js
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Patch failed at 0001 Made Device Analytics Controller. Made device-analytics.stache be rendered through controller.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT The copy of the patch that failed is found in: .git/rebase-apply/patch
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT When you have resolved this problem, run &lt;span class=&quot;token string&quot;&gt;&quot;git am --continue&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT If you prefer to skip this patch, run &lt;span class=&quot;token string&quot;&gt;&quot;git am --skip&quot;&lt;/span&gt; instead.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT To restore the original branch and stop patching, run &lt;span class=&quot;token string&quot;&gt;&quot;git am --abort&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT You may try again with --flatten to &lt;span class=&quot;token function&quot;&gt;import&lt;/span&gt; flat history.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;실제로 &lt;code class=&quot;language-text&quot;&gt;lerna import&lt;/code&gt;커맨드를 사용하게 되면 모든 것이 해결되진 않습니다. flatten 옵션을 줘도 마찬가지죠. 이는 프로젝트 초기에 Merge, Rebase, Force Push 등을 하며 올바르지 않은 변경사항이 강제로 합쳐진 경우가 있기 때문입니다. 이 경우엔 아래와 같은 에러를 마주할 것입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# &amp;lt;https://stackoverflow.com/questions/52119818/trouble-importing-project-in-lerna&gt;&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Failed to apply commit f16ede066.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Command failed: &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; am -3 --keep-non-patch
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT error: &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt; header lacks filename information when removing &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; leading pathname component &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line &lt;span class=&quot;token number&quot;&gt;845968&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT error: could not build fake ancestor
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Applying: Adding dist files. Refs &lt;span class=&quot;token comment&quot;&gt;#17&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT Patch failed at 0001 Adding dist files. Refs &lt;span class=&quot;token comment&quot;&gt;#17&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT The copy of the patch that failed is found in: .git/rebase-apply/patch
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT When you have resolved this problem, run &lt;span class=&quot;token string&quot;&gt;&quot;git am --continue&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT If you prefer to skip this patch, run &lt;span class=&quot;token string&quot;&gt;&quot;git am --skip&quot;&lt;/span&gt; instead.
lerna ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; EIMPORT To restore the original branch and stop patching, run &lt;span class=&quot;token string&quot;&gt;&quot;git am --abort&quot;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;git log, git am을 통한 CodeBase 조합&lt;/h3&gt;
&lt;p&gt;위와 같은 단점을 해결하기 위해 다른 해결책을 모색해야 했습니다. 클래스101의 테크리드, 조이의 도움으로 &lt;code class=&quot;language-text&quot;&gt;git log&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;git am&lt;/code&gt;을 이용한다면 문제를 해결할 수 있다는 것을 알게 되었습니다. &lt;code class=&quot;language-text&quot;&gt;git am&lt;/code&gt;은 대화식으로 patch apply 과정을 진행할 수 있기 때문이죠.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;git log&lt;/strong&gt;&lt;br&gt;
terminal에서 &lt;code class=&quot;language-text&quot;&gt;man git-log&lt;/code&gt; 를 이용하면 매우 다양한 옵션이 있다는 걸 알 수 있습니다. 그중에서도 &lt;code class=&quot;language-text&quot;&gt;-p&lt;/code&gt; 옵션을 사용하면 아래 그림과 같은 patch파일을 만들 수 있었습니다.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8fe36c17b8fe92eb151aa7324efa4800/39c09/stackoverflow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 65.06410256410257%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACY0lEQVQ4y22TbVPaUBCFQ1tBXhyBoqIgqBUVBAR5CQlJCElIiIAIUuvY2un//xOnJwlWZuqHZ87m3t2ze5Mb4WzyAx4n7ncE8ROuFq8o3b+gvPxNXnG9+oNo10JCchBum9hmHOvZxEGcazES6Y4Q7lgQ8qMFiuMVsuYDjp0VcvYSRfcJudESWWuBPNf8wjVR0abhiEZjxGXXN9tRJojyecszjHd0bDdVRBoKwiTW0vD5RoFwLWOroSLc1Hx9iyO3A58tEvZo6VTd10hbh3CkGOhMXTTcMeSHia8V28G5MUKVekE9kA2kxSGSXR2pHlU0sNszkJJMpGSLjJCkJiVOmGjKyPd1ZEQNBc3AEeNDNsmpFnKahaxiYr9vIMrJvamFah9CTQm0Sq2pEOrcuxkEFHQbe30Ted3BiemiMlngmGsZScceJzvgXpbmXs7hRpPdLourMkI1Gtdp2uBzk0e+Gt1BnMyx/PUTLWp7/oBLy4ZQFlkg+UXBVOvJ6sqG9oP964287MDA1WyK87GLU9dB0hwiphOF3So0LXcD/UePBr13k1r/3dijcOcgNxsjM7ZRmLnIOnZQ4BWW14Yfsm7g5W6eIm7xwpKoNkTohht1CZ+IlxiqSQjVA/wGPhvTvpm/Te6RMCzsjh3sr2Y4fJ5Tp8gs7sgEMX71hG4iztfiHTH0H2xa8RAZi74KAi+zwIu8w/uXXk6RoHn6cYovHU5bakI4X3NxS1oQLj/gosNcTlqitl+ecTYzcTI1+QsOUXQGOJvz2gwfkVYf8VVb+qTUJQ6UOYryPQqkuMaLvw2HKFkq0fAX2ZKMrwYm6TcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;[그림 1] 출처: StackOverflow&quot;
        title=&quot;&quot;
        src=&quot;/static/8fe36c17b8fe92eb151aa7324efa4800/fcda8/stackoverflow.png&quot;
        srcset=&quot;/static/8fe36c17b8fe92eb151aa7324efa4800/12f09/stackoverflow.png 148w,
/static/8fe36c17b8fe92eb151aa7324efa4800/e4a3f/stackoverflow.png 295w,
/static/8fe36c17b8fe92eb151aa7324efa4800/fcda8/stackoverflow.png 590w,
/static/8fe36c17b8fe92eb151aa7324efa4800/39c09/stackoverflow.png 624w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;git am&lt;/strong&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git log&lt;/code&gt; 를 통해 만들어진 패치파일을 &lt;code class=&quot;language-text&quot;&gt;git am&lt;/code&gt; 을 이용해 모노레포 폴더에서 적용할 수 있었습니다. 역시나 다양한 옵션을 사용하였고 실제 사용한 커맨드는 아래와 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# in web folder&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; log --reverse --first-parent -p -m --pretty&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;email --stat --binary HEAD &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; class101-web.patch

&lt;span class=&quot;token comment&quot;&gt;# in mono folder&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; am --directory packages/web &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/class101-web/class101-web.patch -3 --keep-non-patch --ignore-whitespace&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git log&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;—reverse: git log 실행시 최근 커밋이 아닌 최초 커밋부터 기록을 확인하기 위해 사용한 옵션입니다.&lt;/li&gt;
&lt;li&gt;—first-parent: merge commit에 대해 첫번째 부모 커밋만 보여주는 옵션입니다.&lt;/li&gt;
&lt;li&gt;-p: patch를 만듭니다&lt;/li&gt;
&lt;li&gt;-m: Diff Formatting 옵션입니다. merge commit들의 diff를 full로 보여줍니다.&lt;/li&gt;
&lt;li&gt;—pretty: 커밋 로그를 주어진 param값에 맞추어 보여줍니다. oneline, short, medium, full, fuller, email, raw, format:$string and tformat:$string 중 하나의 값이 올 수 있습니다.&lt;/li&gt;
&lt;li&gt;—stat: diffstat을 만듭니다.&lt;/li&gt;
&lt;li&gt;—binary: output a binary diff that can be applied with git-apply&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git am&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;—directory: filename에 주어진 prefix를 붙입니다. (directory 위치 변경)&lt;/li&gt;
&lt;li&gt;-3: patch가 깨끗하게 적용이 되지 않았을 때, 3-way merge를 통해 재 적용합니다.&lt;/li&gt;
&lt;li&gt;—keep-non-patch: git의 mail info에 대해 -b 옵션을 전달합니다. 이는 PATCH를 포함한 bracket 짝이 있을 때에만 stripping합니다.&lt;/li&gt;
&lt;li&gt;—ignore-whitespace: ignore changes in whitespace in context lines if necessary&lt;/li&gt;
&lt;li&gt;참고 이미지

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2b222aec948a508a16693117a1783e81/08485/github-diff.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 31.678252234359483%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAAA5UlEQVQY04WQT0vDQBDF8/2/g3jyUjyoBy+iZz+BYMVCq9aGUptsdmc32T8/s8GU0AqdZZgZmPf2vSm89xhjsNYRQkDE0nUdYgRVq34WUkonGWM89D552tgNtRBrqZWiHsCWRmtc29KIYm8qUjwly5GFrD6+2O32PH0/c/V+y83ygSL/lDOrG/sMCjEQUhjAI8lYnXOsNxt076JpNJVWmFaw3lFwJqZkU3XbcofRvaPaII097Bf/3efY3vEsTnhZzXn7XLCuSn7s32n6d1bhVOlIWJotF/MZs8U9l6/X3C0f+wUGwl+HK9LL4ACuoQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;[그림 2] 출처: The GitHub Blog&quot;
        title=&quot;&quot;
        src=&quot;/static/2b222aec948a508a16693117a1783e81/fcda8/github-diff.png&quot;
        srcset=&quot;/static/2b222aec948a508a16693117a1783e81/12f09/github-diff.png 148w,
/static/2b222aec948a508a16693117a1783e81/e4a3f/github-diff.png 295w,
/static/2b222aec948a508a16693117a1783e81/fcda8/github-diff.png 590w,
/static/2b222aec948a508a16693117a1783e81/efc66/github-diff.png 885w,
/static/2b222aec948a508a16693117a1783e81/c83ae/github-diff.png 1180w,
/static/2b222aec948a508a16693117a1783e81/08485/github-diff.png 2014w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;지금까지 Monorepo의 특징을 살펴보고 lerna, git log, git am을 통해 Code Base까지 조합했습니다. 결과는 두 가지로 정리할 수 있습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;lerna import&lt;/code&gt;를 할 수 있는 패키지는 &lt;code class=&quot;language-text&quot;&gt;lerna import&lt;/code&gt;를 사용한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;lerna import&lt;/code&gt;를 할 수 없는 패키지는 &lt;code class=&quot;language-text&quot;&gt;git log&lt;/code&gt;를 이용하여 패치 파일을 만들고 &lt;code class=&quot;language-text&quot;&gt;git am&lt;/code&gt;을 이용하여 해당 패치 파일을 적용한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;위와 같이 진행하니 약 3,800개의 커밋이 누락되었습니다. merge commit이 제외된 것도 포함한 수치입니다. 하지만 마지막 상태가 같고 최근 커밋은 모두 보존되어 레포지토리를 합치는 데에는 문제가 없었습니다. 개발 업무에 모노레포 도입이 필요하신가요? 아니면 깔끔하게 Git history를 보존하고 싶으신가요? 어떤 경우든 이번 글이 분명 업무 환경 개선에 도움이 될 겁니다.&lt;/p&gt;
&lt;h2&gt;참고&lt;/h2&gt;
&lt;p&gt;(a) 이 글에서는 javascript만 사용하는 프로젝트를 다루므로 Multi Language Monorepo 관리 자료는 아래 URL에서 참고할 수 있다. &lt;a href=&quot;https://github.com/korfuri/awesome-monorepo&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// github.com/korfuri/awesome-monorepo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(b) ‘조합(組合)‘은 ‘여럿을 한데 모아 한 덩어리로 짬.‘을 뜻하고, ‘결합(結合)‘은 ‘둘 이상의 사물이나 사람이 서로 관계를 맺어 하나가 됨.‘을 뜻한다. 본문에서는 두 목록을 합쳐 하나의 새로운 목록을 구성하였으므로 그 문맥상 ‘조합’으로 표기한다.&lt;/p&gt;
&lt;h2&gt;참고문헌&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;논문 및 학술자료&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Gleison Brito ・ Ricardo Terra ・ Marco Tulio Valente, &amp;#x3C;Monorepos: A Multivocal Literature Review&gt;, 6th Brazilian Workshop on Software Visualization, Evolution and Maintenance (VEM), 2018. p.1.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;웹사이트&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Monorepo Advantages, Wikipedia, &lt;a href=&quot;https://en.wikipedia.org/wiki/Monorepo#Advantages&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// en.wikipedia.org/wiki/Monorepo#Advantages&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;Trouble importing project in lerna, stack overflow, &lt;a href=&quot;https://stackoverflow.com/questions/52119818/trouble-importing-project-in-lerna&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// stackoverflow.com/questions/52119818/trouble-importing-project-in-lerna&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;View Git Patch Files In Color With This Script, malloc.co, &lt;a href=&quot;http://www.malloc.co/git/view-git-patch-files-in-color-with-this-script/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;http:// www.malloc.co/git/view-git-patch-files-in-color-with-this-script/&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;li&gt;Ignore white space in code review, The GitHub Blog, &lt;a href=&quot;https://github.blog/2018-05-01-ignore-white-space-in-code-review/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;https:// github.blog/2018-05-01-ignore-white-space-in-code-review/&lt;/a&gt; 참조. (2019.07.12)&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>